{
    "id": 13217,
    "name": "Tipalti",
    "hookName": "Tipalti",
    "key": "tipalti",
    "description": "Tipalti automates the entire accounts payable process so your operation works smarter, with improved financial control.",
    "image": "https://tipalti.com/wp-content/uploads/2015/04/Tipalti_Logo_Final-nobackground.png",
    "logo": "tipalti",
    "active": true,
    "deleted": false,
    "typeOauth": false,
    "trialAccount": false,
    "configuration": [
        {
            "id": 111981,
            "name": "Tipalti URL",
            "key": "baseUrl",
            "description": "The Tipalti API URL to make API calls. For example: https://{siteUrl}/v4",
            "defaultValue": "https://{siteUrl}/v4/",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_64",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 96202,
            "name": "Bulk query Date Mask",
            "key": "bulk.query.date_mask",
            "description": "Bulk query Date Mask",
            "defaultValue": "yyyy/MM/dd HH:mm:ss",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96203,
            "name": "Bulk Relations",
            "key": "bulk.relations",
            "description": "Bulk Relations",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTAREA",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96204,
            "name": "Bulk query Operator",
            "key": "bulk.query.operator",
            "description": "Bulk query Operator",
            "defaultValue": "=",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96205,
            "name": "Pagination Type",
            "key": "pagination.type",
            "description": "Tipalti Pagination Type",
            "defaultValue": "page",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96206,
            "name": "Max Page Size (or limit)",
            "key": "pagination.max",
            "description": "Tipalti Max Page Size (or limit)",
            "defaultValue": "200",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96207,
            "name": "Base URL",
            "key": "base.url",
            "description": "Tipalti Base URL",
            "defaultValue": "{baseUrl}",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 254173,
            "name": "Allow Select Fields parameter",
            "key": "allow.select.fields",
            "description": "Enables use of global fields query parameter to filter response to only specified fields. This will override any existing vendor functionality on the connector",
            "defaultValue": "true",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "BOOLEAN",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96196,
            "name": "Pagination Start Index",
            "key": "pagination.page.startindex",
            "description": "Tipalti Pagination Start Index",
            "defaultValue": "0",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96197,
            "name": "Payer Name",
            "key": "payerName",
            "description": "The name field under Administration => General => Contact details",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 96198,
            "name": "Encryption Key",
            "key": "encryptionKey",
            "description": "The master key found in Tipalti under the Administration => Integrations => API keys ",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 96199,
            "name": "Bulk query FieldName",
            "key": "bulk.query.field_name",
            "description": "Bulk query FieldName",
            "defaultValue": "lastChanged",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96200,
            "name": "Bulk Add Metadata",
            "key": "bulk.add_metadata",
            "description": "Bulk Add Metadata",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96201,
            "name": "Bulk Download Format",
            "key": "bulk.query.download_format",
            "description": "Bulk Download Format",
            "defaultValue": "JSON",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96195,
            "name": "Payer Entity",
            "key": "payerEntity",
            "description": "The payer entity to sort by.",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 3,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 131456,
            "name": "Filter null values from the response",
            "key": "filter.response.nulls",
            "description": "Used to enable/disable filtering of null values from the responses",
            "defaultValue": "true",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 51,
            "type": "BOOLEAN",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 159956,
            "name": "Default select fields",
            "key": "default.select.fields.map",
            "description": "Generic map used to specify default fields for bulk download and GET /all requests. Each key should be the canonical objectName and values may be specified as a comma-delimited string or a list of strings",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": true,
            "groupControl": false,
            "displayOrder": 98,
            "type": "TEXTAREA",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 96194,
            "name": "Time of Getting Token or Performing Authentication",
            "key": "authentication.time",
            "description": "Tipalti Time of Getting Token or Performing Authentication",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": true,
            "groupControl": false,
            "displayOrder": 100,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 256316,
            "name": "Event Notification Basic Authentication UserName",
            "key": "event.notification.basic.username",
            "description": "Event Notification basic authentication username",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 110,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 256567,
            "name": "Event Notification Basic Authentication Password",
            "key": "event.notification.basic.password",
            "description": "Event Notification basic authentication password",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 112,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": false
        }
    ],
    "resources": [
        {
            "id": 85736,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Create a ledger account for ",
            "path": "/hubs/finance/accounts",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174525,
                    "resourceId": 85736,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/CreateOrUpdateGLAccounts",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174524,
                    "resourceId": 85736,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "accounts",
                    "vendorDataType": "accounts",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 174523,
                    "resourceId": 85736,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreateOrUpdateGLAccounts xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <glAccounts> <UpdateGLAccountRequest> <Name>{Name}</Name> <Number>{Number}</Number> <ExternalId>{ExternalID}</ExternalId> <Description>{Description}</Description> </UpdateGLAccountRequest> </glAccounts> </CreateOrUpdateGLAccounts> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "accounts",
                "transform": false,
                "swagger": {
                    "accounts": {
                        "id": "accounts",
                        "properties": {
                            "Description": {
                                "type": "string"
                            },
                            "ExternalID": {
                                "type": "string"
                            },
                            "Name": {
                                "type": "string"
                            },
                            "Number": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "accounts": {
                        "id": "accounts",
                        "properties": {
                            "Description": {
                                "type": "string"
                            },
                            "ExternalID": {
                                "type": "string"
                            },
                            "Name": {
                                "type": "string"
                            },
                            "Number": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "accounts"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.CreateOrUpdateGLAccountsResponse.CreateOrUpdateGLAccountsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9782,
                    "resourceId": 85736,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var r = request_body\nconsole.log(request_headers['body'])\n\n\n\ndone ({\n\t\"response_body\": response_body\n})",
                    "isLegacy": false
                },
                {
                    "id": 9783,
                    "resourceId": 85736,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\nrequest_vendor_headers['body'] = request_body\n\nconsole.log(request_body)\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body\n\nconsole.log(body)\n\n\nif(!requestBody.Name){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'Name' not found\"},\n\"response_status_code\": 400\n})\n}\n\n\nif(!requestBody.Number){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'Number' not found\"},\n\"response_status_code\": 400\n})\n}\n\n\nif(!requestBody.ExternalID){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'ExternalId' not found\"},\n\"response_status_code\": 400\n})\n}\n\n\nif(!requestBody.Description){\n\tbody = body.replace(\"{Description}\", \"\");\n}\n\n\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\nconsole.log(body);\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 86081,
            "createdDate": "2017-08-02T19:51:59Z",
            "description": "Create bulk ledger accounts ",
            "path": "/hubs/finance/accountsBulk",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 175343,
                    "resourceId": 86081,
                    "createdDate": "2017-08-02T19:51:59Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "accounts",
                    "vendorDataType": "accounts",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 175342,
                    "resourceId": 86081,
                    "createdDate": "2017-08-02T19:51:59Z",
                    "name": "http://Tipalti.org/CreateOrUpdateGLAccounts",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 175341,
                    "resourceId": 86081,
                    "createdDate": "2017-08-02T19:51:59Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreateOrUpdateGLAccounts xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <glAccounts>{glAccounts}</glAccounts> </CreateOrUpdateGLAccounts> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.CreateOrUpdateGLAccountsResponse.CreateOrUpdateGLAccountsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10004,
                    "resourceId": 86081,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var responseBody = {\"results\": []};\nvar count = 0;\n\nif (request_body) {\n\tcount = (request_body.match(/<UpdateGLAccountRequest>/g) || []).length;\n}\n\nif (response_body) {\n\tfor(;count > 0; count--) {\n\t\tlet item = {\"Succeeded\": true, \"ErrorMessage\": \"\"};\n\t\t\n\t\tif (response_body.errorCode !== \"OK\") {\n\t\t\titem.Succeeded = false;\n\t\t\titem.ErrorMessage = response_body.errorMessage;\n\t\t} \n\t\tresponseBody.results.push(item);\t\t\n\t}\n}\n\ndone ({\n\t\"response_body\": responseBody\n});\n",
                    "isLegacy": false
                },
                {
                    "id": 10005,
                    "resourceId": 86081,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\nvar requestBody = JSON.parse(request_body); \nvar newBody = request_vendor_body;\n\n// Templates\nvar account = '<UpdateGLAccountRequest><Name>{Name}</Name><Number>{Number}</Number><ExternalId>{ExternalId}</ExternalId><Description>{Description}</Description></UpdateGLAccountRequest>';\n\nfunction bindValueToTemplate(value, key, template) {\n\tif (value) {\n\t\ttemplate = template.replace('{' + key + '}', value);\n\t} else {    \n\t\ttemplate = template.replace('<' + key + '>{' + key + '}</' + key + '>', '');\n\t}\n\treturn template; \n\t\n}\n// Replace Accounts\nif(requestBody) {\n\tvar subArry = '';\n\tfor (let i = 0; i < requestBody.length; i++) {\n\t\tvar sub = account;\n\t\t\n\t\tlet map = requestBody[i];\n\t    sub = bindValueToTemplate(map.Name, 'Name', sub);\n\t    \n\t    sub = bindValueToTemplate(map.Number, 'Number', sub);\n\t    \n\t    sub = bindValueToTemplate(map.ExternalID, 'ExternalId', sub);\n\t    \n\t    sub = bindValueToTemplate(map.Description, 'Description', sub);\n\t    \n\t    subArry = subArry + sub;\n\t}\n\t    newBody  = newBody.replace('{glAccounts}', subArry);\n\t\n} else {\n\tnewBody = newBody.replace('<glAccounts>{glAccounts}</glAccounts>', '');\n}\n\nnewBody = newBody.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\t\ndone ({    \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": newBody,\n\t\"continue\": true\n\t\n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85737,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/custom_fields",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174527,
                    "resourceId": 85737,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetCustomFields",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174526,
                    "resourceId": 85737,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body><GetCustomFields xmlns=\"http://Tipalti.org/\">       <payerName>{payerName}</payerName>       <timestamp>{dateTime}</timestamp><key>{authorization}</key></GetCustomFields></soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "custom_fieldsList",
                "transform": false,
                "swagger": {
                    "custom_fieldsList": {
                        "id": "custom_fieldsList",
                        "items": {
                            "$ref": "custom_fieldsListObject"
                        },
                        "type": "array"
                    },
                    "custom_fieldsListObject": {
                        "id": "custom_fieldsListObject",
                        "properties": {
                            "Description": {
                                "type": "string"
                            },
                            "Entity": {
                                "type": "string"
                            },
                            "Title": {
                                "type": "string"
                            },
                            "ValueType": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetCustomFieldsResponse.GetCustomFieldsResult.CustomFields.CustomFieldInfo",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9784,
                    "resourceId": 85737,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\n\n\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9785,
                    "resourceId": 85737,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var response = response_body; \nvar _ = require('lodash'); \n \nif (_.isArray(response)) { \n done({ \n \"continue\": true, \n \"response_body\": response_body \n }); \n} \nelse{ \n var array = []; \n array.push(response); \n done({ \n \"continue\": true, \n \"response_body\": array \n }); \n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 88833,
            "createdDate": "2017-08-18T03:27:27Z",
            "description": "update custom field values",
            "path": "/hubs/finance/custom_fields",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 180965,
                    "resourceId": 88833,
                    "createdDate": "2017-08-18T03:27:27Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "Object",
                    "vendorDataType": "Object",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 180964,
                    "resourceId": 88833,
                    "createdDate": "2017-08-18T03:27:27Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">     <soap:Body>         <CreateOrUpdateCustomFields xmlns=\"http://Tipalti.org/\">             <payerName>{payerName}</payerName>             <timestamp>{dateTime}</timestamp>             <key>{authorization}</key>             <customFieldInfo>                 {customFieldInfo}             </customFieldInfo>         </CreateOrUpdateCustomFields>     </soap:Body> </soap:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 180963,
                    "resourceId": 88833,
                    "createdDate": "2017-08-18T03:27:27Z",
                    "name": "http://Tipalti.org/CreateOrUpdateCustomFields",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "custom_fields",
                "transform": false,
                "swagger": {
                    "CustomFieldValue": {
                        "id": "CustomFieldValue",
                        "properties": {
                            "Code": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        }
                    },
                    "custom_fields": {
                        "id": "custom_fields",
                        "properties": {
                            "CustomField": {
                                "type": "CustomField"
                            },
                            "Message": {
                                "type": "string"
                            },
                            "Result": {
                                "type": "string"
                            }
                        }
                    },
                    "CustomField": {
                        "id": "CustomField",
                        "properties": {
                            "Action": {
                                "type": "string"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "Entity": {
                                "type": "string"
                            },
                            "IframeDisplay": {
                                "type": "IframeDisplay"
                            },
                            "SubEntity": {
                                "type": "SubEntity"
                            },
                            "Title": {
                                "type": "string"
                            },
                            "Type": {
                                "type": "string"
                            },
                            "Values": {
                                "type": "Values"
                            }
                        }
                    },
                    "Values": {
                        "id": "Values",
                        "properties": {
                            "CustomFieldValue": {
                                "items": {
                                    "$ref": "CustomFieldValue"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "IframeDisplay": {
                        "id": "IframeDisplay",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "SubEntity": {
                        "id": "SubEntity",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {
                            "Description": {
                                "type": "string"
                            },
                            "Entity": {
                                "type": "string"
                            },
                            "Title": {
                                "type": "string"
                            },
                            "Type": {
                                "type": "string"
                            },
                            "Values": {
                                "items": {
                                    "$ref": "Values"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "object_": {
                        "id": "object_",
                        "properties": {
                            "CustomFields": {
                                "items": {
                                    "$ref": "CustomFields"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "Values": {
                        "id": "Values",
                        "properties": {
                            "Code": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "object"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.CreateOrUpdateCustomFieldsResponse.CreateOrUpdateCustomFieldsResult.CustomFieldUpdateResult.TipaltiCustomFieldUpdateResponse",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10472,
                    "resourceId": 88833,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "//there will have to be chain to call the extended detials endpoint once the id \n//is added to the response for this endpoint\n/*var array = response_body;\nvar _ = require('lodash');\nif(response_body.createdIdap){\n var response = response_body;\n delete response.i;\n delete response.d;\n delete response.b;\n delete response.errorMessage;\n delete response.errorCode;\n console.log(request_body)\n if(request_body.customFields){\n \tresponse.body.customFields = request_body.customFields;\n }\ndone ({\n\t\"response_body\": response\n});\n}\n*/\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 10473,
                    "resourceId": 88833,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml'; \nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \n\nvar dateTime = Math.floor(Date.now() / 1000); \nvar toEncrypt = unescape(encodeURIComponent(payerName + dateTime.toString())); \nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body; \n\nvar customFieldInfo = '';\nvar customFieldValue = '<CustomFieldValue><Value>{Value}</Value><Code>{Code}</Code><PayerEntityName>{PayerEntityName}</PayerEntityName></CustomFieldValue>';\nvar customField = '<TipaltiCustomField><Title>{Title}</Title><Description>{Description}</Description><Action>CreateOrUpdate</Action><Entity>{Entity}</Entity><Type>{Type}</Type><Values>{values}</Values></TipaltiCustomField>';\n\n\nfunction bindValueToTemplate(value, key, template) {\n\tif (value) {\n\t\ttemplate = template.replace('{' + key + '}', value);\n\t} else {    \n\t\ttemplate = template.replace('<' + key + '>{' + key + '}</' + key + '>', '');\n\t}\n\treturn template; \n\t\n}\n\n\nrequestBody.CustomFields.forEach(function(field, index){\n\tvar sub = customField;\n\t\n\tsub = bindValueToTemplate(field.Title, \"Title\", sub);\n\tsub = bindValueToTemplate(field.Description, \"Description\", sub);\n\tsub = bindValueToTemplate(field.Entity, \"Entity\", sub);\n\tsub = bindValueToTemplate(field.Type, \"Type\", sub);\n\t\n\tvar values = '';\n\t\n\tfield.Values.forEach(function(fieldValue){\n\t\tvar val = customFieldValue;\n\t\t\n\t\tval = bindValueToTemplate(fieldValue.Value, \"Value\", val);\n\t\tval = bindValueToTemplate(fieldValue.Code, \"Code\", val);\n\t\tval = bindValueToTemplate(fieldValue.PayerEntity, \"PayerEntityName\", val);\n\t\tvalues += val;\n\t});\n\t\n\tsub = bindValueToTemplate(values, \"values\", sub);\n\n\t\n\tcustomFieldInfo += sub;\n\t\n});\n\n\n \nvar auth = CE.hmacSha256Hex(eKey, toEncrypt); \n\n \nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{customFieldInfo}', customFieldInfo); \n \n \n \ndone( \n{ \n \"request_vendor_headers\": request_vendor_headers, \n \"request_vendor_body\": body, \n \"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85738,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Find vendors created or updated since last time stamp.",
            "path": "/hubs/finance/invoices",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174530,
                    "resourceId": 85738,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetPayeeInvoicesChangedSinceTimestamp",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174532,
                    "resourceId": 85738,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayeeInvoicesChangedSinceTimestamp xmlns=\"http://Tipalti.org/\"><payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <changedSince>{since}</changedSince></GetPayeeInvoicesChangedSinceTimestamp> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174528,
                    "resourceId": 85738,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The number of resources to return in a given page",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174529,
                    "resourceId": 85738,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number of resources to retrieve",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174531,
                    "resourceId": 85738,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The following where clause is required: lastChanged ='  '. Where lastChanged is a unix timestamp value. ",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "invoicesList",
                "transform": false,
                "swagger": {
                    "Order": {
                        "id": "Order",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "lineItems": {
                        "id": "lineItems",
                        "properties": {
                            "Amount": {
                                "format": "double",
                                "type": "number"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "CustomFields"
                            },
                            "Description": {
                                "type": "string"
                            }
                        }
                    },
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {
                            "testBill": {
                                "type": "string"
                            }
                        }
                    },
                    "invoicesListObject": {
                        "id": "invoicesListObject",
                        "properties": {
                            "AmountDue": {
                                "format": "double",
                                "type": "number"
                            },
                            "ApprovalDate": {
                                "type": "string"
                            },
                            "Approvers": {
                                "type": "Approvers"
                            },
                            "CanApprove": {
                                "type": "boolean"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "invoicesListCustomFields"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "Idap": {
                                "type": "string"
                            },
                            "InvoiceDate": {
                                "type": "string"
                            },
                            "InvoiceDueDate": {
                                "type": "string"
                            },
                            "InvoiceInternalNotes": {
                                "type": "string"
                            },
                            "InvoiceNumber": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "InvoiceRefCode": {
                                "type": "string"
                            },
                            "InvoiceStatus": {
                                "type": "string"
                            },
                            "IsPaidManually": {
                                "type": "boolean"
                            },
                            "PayerEntityName": {
                                "type": "string"
                            },
                            "lineItems": {
                                "items": {
                                    "$ref": "lineItems"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "Approvers": {
                        "id": "Approvers",
                        "properties": {
                            "TipaltiInvoiceApprover": {
                                "type": "TipaltiInvoiceApprover"
                            }
                        }
                    },
                    "TipaltiInvoiceApprover": {
                        "id": "TipaltiInvoiceApprover",
                        "properties": {
                            "Email": {
                                "type": "string"
                            },
                            "Name": {
                                "type": "string"
                            },
                            "Order": {
                                "type": "Order"
                            }
                        }
                    },
                    "invoicesList": {
                        "id": "invoicesList",
                        "items": {
                            "$ref": "invoicesListObject"
                        },
                        "type": "array"
                    },
                    "invoicesListCustomFields": {
                        "id": "invoicesListCustomFields",
                        "properties": {
                            "testBill": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetPayeeInvoicesChangedSinceTimestampResponse.GetPayeeInvoicesChangedSinceTimestampResult.changedInvoicesRefCode.string",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9786,
                    "resourceId": 85738,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body;\nvar _ = require('lodash');\n\nif(_.isArray(response_body)){\n\nvar response = _.map(array, function(item){\n\tif(item !== null){\n\t\treturn item.toString();\n\t}\n\telse{\n\t\n\t}\n});\n\ndone ({\n\t\"response_body\": response\n});\n}\n\nif(_.isString(response_body) || _.isInteger(response_body)){\n\tvar response = [];\n\tresponse.push(response_body.toString());\n\t\n\tdone ({\n\t\"response_body\": response\n});\n}\n\n\n\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 9787,
                    "resourceId": 85738,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = '';\nvar expression = request_expression;\n\n\nexpression.forEach(function(exp){\n\tif(exp.attribute === \"lastChanged\"){\n\t\tsince = Math.floor(Date.parse(exp.value)/1000).toString();\n\t}\n\t\n});\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()+since));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "nextResource": "GET:/invoices/get_updated_since_second_call",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85739,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Create or update invoices  ",
            "path": "/hubs/finance/invoices",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174535,
                    "resourceId": 85739,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "invoices",
                    "vendorDataType": "invoices",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174534,
                    "resourceId": 85739,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/CreateOrUpdateInvoices",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174533,
                    "resourceId": 85739,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreateOrUpdateInvoices xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <invoices><TipaltiInvoiceItemRequest>{invoice}</TipaltiInvoiceItemRequest></invoices> </CreateOrUpdateInvoices> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "invoices",
                "transform": false,
                "swagger": {
                    "invoices": {
                        "id": "invoices",
                        "properties": {
                            "InvoiceRefCode": {
                                "type": "string"
                            },
                            "Succeeded": {
                                "type": "boolean"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "lineItems": {
                        "id": "lineItems",
                        "properties": {
                            "Amount": {
                                "format": "double",
                                "type": "number"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "Description": {
                                "type": "string"
                            }
                        }
                    },
                    "invoices": {
                        "id": "invoices",
                        "properties": {
                            "AmountDue": {
                                "format": "double",
                                "type": "number"
                            },
                            "ApprovalDate": {
                                "type": "string"
                            },
                            "CanApprove": {
                                "type": "boolean"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "Idap": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "InvoiceDate": {
                                "type": "string"
                            },
                            "InvoiceDueDate": {
                                "type": "string"
                            },
                            "InvoiceInternalNotes": {
                                "type": "string"
                            },
                            "InvoiceNumber": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "InvoiceRefCode": {
                                "type": "string"
                            },
                            "InvoiceStatus": {
                                "type": "string"
                            },
                            "IsPaidManually": {
                                "type": "boolean"
                            },
                            "lineItems": {
                                "items": {
                                    "$ref": "lineItems"
                                },
                                "type": "array"
                            }
                        }
                    }
                },
                "requestName": "invoices"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.CreateOrUpdateInvoicesResponse.CreateOrUpdateInvoicesResult.InvoiceErrors.TipaltiInvoiceItemResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9788,
                    "resourceId": 85739,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "//there will have to be chain to call the extended detials endpoint once the id \n//is added to the response for this endpoint\n/*var array = response_body;\nvar _ = require('lodash');\nif(response_body.createdIdap){\n var response = response_body;\n delete response.i;\n delete response.d;\n delete response.b;\n delete response.errorMessage;\n delete response.errorCode;\n console.log(request_body)\n if(request_body.customFields){\n \tresponse.body.customFields = request_body.customFields;\n }\ndone ({\n\t\"response_body\": response\n});\n}\n*/\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 9789,
                    "resourceId": 85739,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash'); \nrequest_vendor_headers['Content-Type'] = 'text/xml'; \nvar fail = false; \nvar failFields = []; \nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now() / 1000); \nvar toEncrypt = unescape(encodeURIComponent(payerName + dateTime.toString())); \nvar auth = CE.hmacSha256Hex(eKey, toEncrypt); \nvar toEncrypt = unescape(encodeURIComponent(payerName + dateTime.toString())); \nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body; \n \nvar invoiceXML = \"\"; \n/*-------------start field check and addition--------------------*/ \n \n//Mandatory Fields \nif (requestBody.Idap) \n{ \n invoiceXML += `<Idap>${requestBody.Idap}</Idap>`; \n} \nelse \n{ \n fail = true; \n failFields.push(\"Idap\"); \n} \n \n \nif (requestBody.InvoiceDate) \n{ \n invoiceXML += `<InvoiceDate>${requestBody.InvoiceDate}</InvoiceDate>`; \n} \nelse \n{ \n fail = true; \n failFields.push(\"InvoiceDate\"); \n} \n \n \nif (requestBody.CanApprove !== undefined) \n{ \n invoiceXML += `<CanApprove>${requestBody.CanApprove}</CanApprove>`; \n} \nelse \n{ \n fail = true; \n failFields.push(\"CanApprove\"); \n} \n \n \nif (requestBody.IsPaidManually !== undefined) \n{ \n invoiceXML += `<IsPaidManually>${requestBody.IsPaidManually}</IsPaidManually>`; \n} \nelse \n{ \n fail = true; \n failFields.push(\"IsPaidManually\"); \n} \n \n//throw error on missing fields \nif (fail) \n{ \n var missingFields = failFields.join(' ,'); \n done( \n { \n \"continue\": false, \n \"response_body\": \n { \n \"message\": \"The following required fields are missing: \" + missingFields \n }, \n \"response_status_code\": 400 \n }); \n} \n \n//non mandatory fields. \nif (requestBody.InvoiceRefCode) \n{ \n invoiceXML += `<InvoiceRefCode>${requestBody.InvoiceRefCode}</InvoiceRefCode>`; \n} \nif (requestBody.InvoiceDueDate) \n{ \n invoiceXML += `<InvoiceDueDate>${requestBody.InvoiceDueDate}</InvoiceDueDate>`; \n} \nif (requestBody.Description) \n{ \n invoiceXML += `<Description>${requestBody.Description}</Description>`; \n} \nif (requestBody.InvoiceInternalNotes) \n{ \n invoiceXML += `<InvoiceInternalNotes>${requestBody.InvoiceInternalNotes}</InvoiceInternalNotes>`; \n} \nif (requestBody.IncomeType) \n{ \n invoiceXML += `<IncomeType>${requestBody.IncomeType}</IncomeType>`; \n} \nif (requestBody.InvoiceStatus) \n{ \n invoiceXML += `<InvoiceStatus>${requestBody.InvoiceStatus}</InvoiceStatus>`; \n} \nif (requestBody.Currency) \n{ \n invoiceXML += `<Currency>${requestBody.Currency}</Currency>`; \n} \nif (requestBody.InvoiceNumber) \n{ \n invoiceXML += `<InvoiceNumber>${requestBody.InvoiceNumber}</InvoiceNumber>`; \n} \nif (requestBody.ApprovalDate) \n{ \n invoiceXML += `<ApprovalDate>${requestBody.ApprovalDate}</ApprovalDate>`; \n} \n//add approvers \nif (requestBody.Approvers && requestBody.Approvers.length > 0) \n{ \n invoiceXML += `<Approvers>${requestBody.ApprovalDate}`; \n requestBody.Approvers.forEach(function(approver) \n { \n `<TipaltiInvoiceApprover><Name>${approver.Name}</Name><Email${approver.Email}</Email>></TipaltiInvoiceApprover>`; \n }); \n invoiceXML += '</Approvers>'; \n} \n//add custom fields for invoice \nif (requestBody.CustomFields && _.size(requestBody.CustomFields)) \n{ \n invoiceXML += `<CustomFields>`; \n _.forIn(requestBody.CustomFields, function(value, key) \n { \n invoiceXML += `<KeyValuePair><Key>${key}</Key><Value>${value}</Value></KeyValuePair>`; \n }); \n invoiceXML += '</CustomFields>'; \n} \n//add invoice lines \n//invoiceXML+= '<InvoiceStatus>PendingApproval</InvoiceStatus>'; \nif (requestBody.lineItems && requestBody.lineItems.length > 0) \n\n{ \n invoiceXML += '<InvoiceLines>'; \n requestBody.lineItems.forEach(function(line) \n { \n invoiceXML += '<InvoiceLine>'; \n if (line.Amount) \n { \n invoiceXML+= `<Amount>${line.Amount}</Amount>`; \n } \n else \n { \n done( \n { \n \"continue\": false, \n \"response_body\": \n { \n \"message\": requestBody \n }, \n \"response_status_code\": 400 \n }); \n } \n if(line.Currency){ \n invoiceXML+= `<Currency>${line.Currency}</Currency>`; \n } \n if(line.BankingMessage){ \n invoiceXML+= `<BankingMessage>${line.BankingMessage}</BankingMessage>`; \n } \n if(line.Description){ \n invoiceXML+= `<Description>${line.Description}</Description>`; \n } \n if(line.EWalletMessage){ \n invoiceXML+= `<EWalletMessage>${line.EWalletMessage}</EWalletMessage>`; \n } \n if(line.InvoiceInternalNotes){ \n invoiceXML+= `<InvoiceInternalNotes>${line.InvoiceInternalNotes}</InvoiceInternalNotes>`; \n } \n if(line.GLAccount){ \n invoiceXML += '<GLAccount>'; \n if(line.GLAccount.Description){ \n invoiceXML+= `<Description>${line.GLAccount.Description}</Description>`; \n } \n if(line.GLAccount.ExternalID){ \n invoiceXML+= `<ExternalID>${line.GLAccount.ExternalID}</ExternalID>`; \n } \n if(line.GLAccount.Name){ \n invoiceXML+= `<Name>${line.GLAccount.Name}</Name>`; \n } \n if(line.GLAccount.Number){ \n invoiceXML+= `<Number>${line.GLAccount.Number}</Number>`; \n } \n invoiceXML += '</GLAccount>'; \n } \n if (line.CustomFields && _.size(line.CustomFields)) \n { \n invoiceXML += `<CustomFields>`; \n _.forIn(line.CustomFields, function(value, key) \n { \n invoiceXML += `<KeyValuePair><Key>${key}</Key><Value>${value}</Value></KeyValuePair>`; \n }); \n invoiceXML += '</CustomFields>'; \n } \n //customfields \n invoiceXML += '</InvoiceLine>'; \n }); \n invoiceXML += '</InvoiceLines>'; \n} \n \nvar auth = CE.hmacSha256Hex(eKey, toEncrypt); \n \n \nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{invoice}', invoiceXML); \n \n \n \ndone( \n{ \n \"request_vendor_headers\": request_vendor_headers, \n \"request_vendor_body\": body, \n \"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85745,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Create bulk invoices",
            "path": "/hubs/finance/invoicesBulk",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174555,
                    "resourceId": 85745,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/CreateOrUpdateInvoices",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174554,
                    "resourceId": 85745,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "invoices",
                    "vendorDataType": "invoices",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174553,
                    "resourceId": 85745,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreateOrUpdateInvoices xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <invoices>{Invoices}</invoices> </CreateOrUpdateInvoices> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "invoicesBulk",
                "transform": false,
                "swagger": {
                    "b": {
                        "id": "b",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "invoicesBulk": {
                        "id": "invoicesBulk",
                        "properties": {
                            "results": {
                                "items": {
                                    "$ref": "results"
                                },
                                "type": "array"
                            }
                        }
                    },
                    "d": {
                        "id": "d",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "CreateOrUpdateInvoicesResult": {
                        "id": "CreateOrUpdateInvoicesResult",
                        "properties": {
                            "b": {
                                "type": "b"
                            },
                            "d": {
                                "type": "d"
                            },
                            "errorCode": {
                                "type": "string"
                            },
                            "i": {
                                "type": "i"
                            }
                        }
                    },
                    "soap:Envelope": {
                        "id": "soap:Envelope",
                        "properties": {
                            "@xmlns:soap": {
                                "type": "string"
                            },
                            "@xmlns:xsd": {
                                "type": "string"
                            },
                            "@xmlns:xsi": {
                                "type": "string"
                            },
                            "soap:Body": {
                                "type": "soap:Body"
                            }
                        }
                    },
                    "CreateOrUpdateInvoicesResponse": {
                        "id": "CreateOrUpdateInvoicesResponse",
                        "properties": {
                            "@xmlns": {
                                "type": "string"
                            },
                            "CreateOrUpdateInvoicesResult": {
                                "type": "CreateOrUpdateInvoicesResult"
                            }
                        }
                    },
                    "i": {
                        "id": "i",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "results": {
                        "id": "results",
                        "properties": {
                            "soap:Envelope": {
                                "type": "soap:Envelope"
                            }
                        }
                    },
                    "soap:Body": {
                        "id": "soap:Body",
                        "properties": {
                            "CreateOrUpdateInvoicesResponse": {
                                "type": "CreateOrUpdateInvoicesResponse"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        }
                    },
                    "InvoiceLines": {
                        "id": "InvoiceLines",
                        "properties": {
                            "Amount": {
                                "format": "double",
                                "type": "number"
                            },
                            "BankingMessage": {
                                "type": "string"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "items": {
                                    "$ref": "CustomFields"
                                },
                                "type": "array"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "EWalletMessage": {
                                "type": "string"
                            },
                            "InvoiceInternalNotes": {
                                "type": "string"
                            }
                        }
                    },
                    "invoices": {
                        "id": "invoices",
                        "properties": {
                            "ApprovalDate": {
                                "type": "string"
                            },
                            "Approvers": {
                                "items": {
                                    "$ref": "Approvers"
                                },
                                "type": "array"
                            },
                            "CanApprove": {
                                "type": "boolean"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "items": {
                                    "$ref": "invoicesCustomFields"
                                },
                                "type": "array"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "Idap": {
                                "type": "string"
                            },
                            "IncomeTypeId": {
                                "type": "string"
                            },
                            "InvoiceDate": {
                                "type": "string"
                            },
                            "InvoiceDueDate": {
                                "type": "string"
                            },
                            "InvoiceInternalNotes": {
                                "type": "string"
                            },
                            "InvoiceLines": {
                                "items": {
                                    "$ref": "InvoiceLines"
                                },
                                "type": "array"
                            },
                            "InvoiceNumber": {
                                "type": "string"
                            },
                            "InvoiceRefCode": {
                                "type": "string"
                            },
                            "IsPaidManually": {
                                "type": "boolean"
                            }
                        }
                    },
                    "Approvers": {
                        "id": "Approvers",
                        "properties": {
                            "Email": {
                                "type": "string"
                            },
                            "Name": {
                                "type": "string"
                            }
                        }
                    },
                    "invoicesCustomFields": {
                        "id": "invoicesCustomFields",
                        "properties": {
                            "Key": {
                                "type": "string"
                            },
                            "Value": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "invoices"
            },
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.CreateOrUpdateInvoicesResponse.CreateOrUpdateInvoicesResult.InvoiceErrors.TipaltiInvoiceItemResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9800,
                    "resourceId": 85745,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var responseBody = {\"results\": []};\n\nif(response_body && Object.prototype.toString.call(response_body) === '[object Array]') {\n\tresponseBody.results = response_body;\n} else {\n\tresponseBody.results.push(response_body);\n}\n\ndone ({\n\t\"response_body\": responseBody\n});",
                    "isLegacy": false
                },
                {
                    "id": 9801,
                    "resourceId": 85745,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\nvar requestBody = JSON.parse(request_body); \nvar newBody = request_vendor_body;\n\n// Templates\nvar glAccount = '<Name>{Name}</Name><Number>{Number}</Number><ExternalId>{ExternalID}</ExternalId><Description>{Description}</Description>';\nvar approver = '<TipaltiInvoiceApprover><Name>{Name}</Name><Email>{Email}</Email></TipaltiInvoiceApprover>';\nvar keyValuePair = '<KeyValuePair><Key>{Key}</Key><Value>{Value}</Value></KeyValuePair>';\nvar invoiceLine = '<InvoiceLine><GLAccount>{GLAccount}</GLAccount><Currency>{Currency}</Currency><Amount>{Amount}</Amount><Description>{Description}</Description><InvoiceInternalNotes>{InvoiceInternalNotes}</InvoiceInternalNotes><EWalletMessage>{EWalletMessage}</EWalletMessage><BankingMessage>{BankingMessage}</BankingMessage><CustomFields>{CustomFields}</CustomFields></InvoiceLine>';\nvar invoice = '<TipaltiInvoiceItemRequest><Idap>{Idap}</Idap><InvoiceRefCode>{InvoiceRefCode}</InvoiceRefCode><InvoiceDate>{InvoiceDate}</InvoiceDate><InvoiceDueDate>{InvoiceDueDate}</InvoiceDueDate><Description>{Description}</Description><CanApprove>{CanApprove}</CanApprove><InvoiceInternalNotes>{InvoiceInternalNotes}</InvoiceInternalNotes><CustomFields>{CustomFields}</CustomFields><IsPaidManually>{IsPaidManually}</IsPaidManually><IncomeTypeId>{IncomeTypeId}</IncomeTypeId><InvoiceStatus>{InvoiceStatus}</InvoiceStatus><InvoiceNumber>{InvoiceNumber}</InvoiceNumber><PayerEntityName>{PayerEntityName}</PayerEntityName><InvoiceLines>{InvoiceLines}</InvoiceLines><Currency>{Currency}</Currency><Approvers>{Approvers}</Approvers></TipaltiInvoiceItemRequest>';\n\nfunction parseGLAccount(account, template) {\n  // Replace GLAccount\n  if(account) {\n    let subArry = '';\n    let sub = glAccount;\n\n    sub = bindValueToTemplate(account.Name, 'Name', sub);\n\n    sub = bindValueToTemplate(account.Number, 'Number', sub);\n\n    sub = bindValueToTemplate(account.ExternalID, 'ExternalID', sub);\n\n    sub = bindValueToTemplate(account.Description, 'Description', sub);\n\n    subArry = subArry + sub;\n    template  = template.replace('{GLAccount}', subArry);\n  } else {\n    template  = template.replace('<GLAccount>{GLAccount}</GLAccount>', '');\n  }\n  return template;\n}\n\nfunction parseApprovers(approverArray, template) {\n  // Replace Approvers\n  if(approverArray && approverArray.length > 0) {\n    var subArry = '';\n    for(let i = 0; i < approverArray.length; i++) {\n      var map = approverArray[i];\n      var sub = approver;\n\n      sub = bindValueToTemplate(map.Name, 'Name', sub);\n\n      sub = bindValueToTemplate(map.Email, 'Email', sub);\n\n      subArry = subArry + sub;\n    }\n    template  = template.replace('{Approvers}', subArry);\n  } else {\n    template  = template.replace('<Approvers>{Approvers}</Approvers>', '');\n  }\n  return template;\n}\n\nfunction parseCustomFields(customFields, template) {\n  // Replace Custom Fields\n  if(customFields) {\n    var subArry = '';\n    for(let i = 0; i < Object.keys(customFields).length; i++) {\n      let key = Object.keys(customFields)[i];\n      let value = customFields[Object.keys(customFields)[i]];\n      var sub = keyValuePair;\n\n      sub = bindValueToTemplate(key, 'Key', sub);\n\n      sub = bindValueToTemplate(value, 'Value', sub);\n\n      subArry = subArry + sub;\n    }\n    template  = template.replace('{CustomFields}', subArry);\n  } else {\n    template  = template.replace('<CustomFields>{CustomFields}</CustomFields>', '');\n  }\n  return template;\n}\n\nfunction parseInvoiceLines(invoiceLineArray, template) {\n  if(invoiceLineArray && invoiceLineArray.length > 0) {\n    var subArry = '';\n    for(let i = 0; i < invoiceLineArray.length; i++) {\n      var map = invoiceLineArray[i];\n      var sub = invoiceLine;\n\n      sub = bindValueToTemplate(map.Description, 'Description', sub);\n\n      sub = bindValueToTemplate(map.Amount, 'Amount', sub);\n\n      sub = bindValueToTemplate(map.Currency, 'Currency', sub);\n\n      sub = bindValueToTemplate(map.InvoiceInternalNotes, 'InvoiceInternalNotes', sub);\n\n      sub = bindValueToTemplate(map.EWalletMessage, 'EWalletMessage', sub);\n\n      sub = bindValueToTemplate(map.BankingMessage, 'BankingMessage', sub);\n\n      sub = bindValueToTemplate(map.InvoiceInternalNotes, 'BankingMessage', sub);\n\n      sub = parseGLAccount(map.GLAccount, sub);\n      \n      // Filter Custom Fields\n      sub = parseCustomFields(map.CustomFields, sub);\n      \n      subArry = subArry + sub;\n    }\n    template  = template.replace('{InvoiceLines}', subArry);\n  } else {\n    template  = template.replace('<InvoiceLines>{InvoiceLines}</InvoiceLines>', '');\n  }\n  return template;\n}\n\nfunction bindValueToTemplate(value, key, template) {\n  if (value) {\n    template = template.replace('{' + key + '}', value);\n  } else {\n  \tif(key === \"ExternalID\"){\n  \t\ttemplate = template.replace('<ExternalId>{ExternalID}</ExternalId>', '');\n  \t}\n  \telse{\n       template = template.replace('<' + key + '>{' + key + '}</' + key + '>', '');\n  \t}\n  }\n  return template; \n}\n\n// Replace Invoices\nif(requestBody !== null \n      && requestBody !== undefined) {\n  var subArry = '';\n  for (let i = 0; i < requestBody.length; i++) {\n      var sub = invoice;\n\n      let map = requestBody[i];\n  \n      sub = bindValueToTemplate(map.Idap, 'Idap', sub);\n\n      sub = bindValueToTemplate(map.InvoiceRefCode, 'InvoiceRefCode', sub);\n\n      sub = bindValueToTemplate(map.InvoiceDueDate, 'InvoiceDueDate', sub);\n\n      sub = bindValueToTemplate(map.InvoiceDate, 'InvoiceDate', sub);\n\n      sub = bindValueToTemplate(map.InvoiceRefCode, 'InvoiceRefCode', sub);\n\n      sub = bindValueToTemplate(map.Description, 'Description', sub);\n\n      sub = bindValueToTemplate(map.CanApprove, 'CanApprove', sub);\n\n      sub = bindValueToTemplate(map.IsPaidManually, 'IsPaidManually', sub);\n\n      sub = bindValueToTemplate(map.IncomeType, 'IncomeTypeId', sub);\n\n      sub = bindValueToTemplate(map.InvoiceStatus, 'InvoiceStatus', sub);\n\n      sub = bindValueToTemplate(map.InvoiceNumber, 'InvoiceNumber', sub);\n\n      sub = bindValueToTemplate(map.PayerEntityName, 'PayerEntityName', sub);\n\n      sub = bindValueToTemplate(map.Currency, 'Currency', sub);    \n\n      sub = bindValueToTemplate(map.InvoiceInternalNotes, 'InvoiceInternalNotes', sub);   \n\n      // Filter Invoice Lines    \n      sub = parseInvoiceLines(map.lineItems, sub);\n\n      // Filter Custom Fields\n      sub = parseCustomFields(map.CustomFields, sub);   \n\n      // Filter Approvers\n      sub = parseApprovers(map.Approvers, sub);   \n\n      subArry = subArry + sub;\n  }\n   \n  newBody  = newBody.replace('{Invoices}', subArry);\n} else {\n  newBody  = newBody.replace('<invoices>{Invoices}</invoices>', '');\n}\n\n\nnewBody = newBody.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\ndone ({  \n  \"request_vendor_headers\": request_vendor_headers,\n  \"request_vendor_body\": newBody,\n  \"continue\": true \n});\n\n\nnewBody = newBody.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\ndone ({  \n  \"request_vendor_headers\": request_vendor_headers,\n  \"request_vendor_body\": newBody,\n  \"continue\": true \n});\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85740,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/invoices/get_updated_since_second_call",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174537,
                    "resourceId": 85740,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetPayeeInvoicesListDetails",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174536,
                    "resourceId": 85740,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayeeInvoicesListDetails xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <invoicesRefCodes> {string} </invoicesRefCodes> </GetPayeeInvoicesListDetails> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.GetPayeeInvoicesListDetailsResponse.GetPayeeInvoicesListDetailsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9790,
                    "resourceId": 85740,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash')\nif(request_previous_response === null || request_previous_response === null){\n\tdone ({\n    \"continue\": true \n\t});\n}\n\nvar invoices = request_previous_response;\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\n\nvar strings = _.map(invoices, function(invoice){\n\treturn `<string>${invoice}</string>`;\n});\n\nvar stringSnippits = strings.join(\"\");\n\nrequest_vendor_headers['SOAPAction'] = 'http://Tipalti.org/GetPayeeInvoicesListDetails';\nrequest_vendor_headers['Content-Type'] = 'text/xml';\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{string}',stringSnippits);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9791,
                    "resourceId": 85740,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash'); \nvar payerEntity = configuration[\"payerEntity\"] \nvar response = response_body; \nvar expression = request_expression; \nconsole.log(expression)\nif(response.Invoices === null ){ \n done ({ \n \"response_body\": [], \n continue: true \n }); \n} \nconsole.log(expression) \nif (response.errorMessage === \"OK\") \n{ \n \n var finalResponse = []; \n var invoices = response.Invoices.TipaltiInvoiceItemResponse; \n if (_.isArray(invoices)) \n { \n \n invoices.forEach(function(invoice) \n { \n \n var finalInvoice = invoice; \n invoiceCustomFields = {}; \n finalInvoice.lineItems = []; \n var finalInvoiceLines = []; \n \n if (_.isArray(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLines = invoice.InvoiceLines.InvoiceLine; \n \n invoiceLines.forEach(function(invoiceLine) \n { \n \n var CustomFields = {}; \n \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoice.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n finalInvoiceLines.push(invoiceLine); \n }); \n \n finalInvoice.lineItems = finalInvoiceLines; \n } \n else if (_.isObject(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLine = invoice.InvoiceLines.InvoiceLine; \n var CustomFields = {}; \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoiceLine.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n //finalInvoiceLines.push(invoiceLine); \n \n finalInvoice.lineItems.push(invoiceLine); \n } \n \n if (invoice.CustomFields !== null && invoice.CustomFields !== undefined) \n { \n if (_.isArray(invoice.CustomFields.KeyValuePair)) \n { \n invoice.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n invoiceCustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoice.CustomFields.KeyValuePair)) \n { \n \n invoiceCustomFields[invoice.CustomFields.KeyValuePair.Key] = invoice.CustomFields.KeyValuePair.Value; \n \n } \n } \n finalInvoice.CustomFields = invoiceCustomFields; \n delete finalInvoice.InvoiceLines; \n \n \n \n finalResponse.push(finalInvoice); \n \n }); \n \n } \n \n \n else if(_.isObject(invoices)) \n { \n \n var invoice = invoices; \n var finalInvoice = invoice; \n \n var invoiceCustomFields = {}; \n finalInvoice.lineItems = []; \n \n \n if (_.isArray(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLines = invoice.InvoiceLines.InvoiceLine; \n \n invoiceLines.forEach(function(invoiceLine) \n { \n \n var CustomFields = {}; \n \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoice.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n finalInvoiceLines.push(invoiceLine); \n }); \n \n finalInvoice.lineItems = finalInvoiceLines; \n } \n else if (_.isObject(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLine = invoice.InvoiceLines.InvoiceLine; \n var CustomFields = {}; \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoiceLine.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n//finalInvoiceLines.push(invoiceLine); \n \n finalInvoice.lineItems.push(invoiceLine); \n } \n \n if (invoice.CustomFields !== null && invoice.CustomFields !== undefined) \n { \n if (_.isArray(invoice.CustomFields.KeyValuePair)) \n { \n invoice.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n invoiceCustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoice.CustomFields.KeyValuePair)) \n { \n \n invoiceCustomFields[invoice.CustomFields.KeyValuePair.Key] = invoice.CustomFields.KeyValuePair.Value; \n \n } \n } \n finalInvoice.CustomFields = invoiceCustomFields; \n delete finalInvoice.InvoiceLines; \n \n \n finalResponse.push(finalInvoice); \n \n \n } \n \n \nif(payerEntity){ \n finalResponse = _.filter(finalResponse, function(obj){return obj.PayerEntityName === payerEntity}); \n } \n if(expression.length > 1){ \n finalResponse = _.filter(finalResponse, function(obj){ \n var pass = true \n expression.forEach(function(exp){ \n \tvar value = exp.value\n if(exp.value === 'false' || exp.value === false ){\n \texp.value = false;\n }\n if(exp.value === 'true' || exp.value === true){\n \texp.value = true;\n }\n if(exp.attribute !== \"lastChanged\"){ \n if(obj[exp.attribute] === undefined || (obj[exp.attribute] !== exp.value)){ \n pass = false \n } \n } \n }) \n if(pass){ \n return obj; \n } \n }); \n } \n \n done ({ \n \"response_body\": finalResponse, \n continue: true \n }); \n \n} \nelse \n{ \n done( \n { \n \"response_body\": response_body \n }); \n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 88269,
            "createdDate": "2017-08-14T03:25:09Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/invoices/{id}",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 179899,
                    "resourceId": 88269,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayeeInvoicesListDetails xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <invoicesRefCodes> {string} </invoicesRefCodes> </GetPayeeInvoicesListDetails> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179898,
                    "resourceId": 88269,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "http://Tipalti.org/GetPayeeInvoicesListDetails",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179897,
                    "resourceId": 88269,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "id",
                    "vendorName": "id",
                    "description": "id",
                    "type": "path",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "invoices",
                "transform": false,
                "swagger": {
                    "lineItems": {
                        "id": "lineItems",
                        "properties": {
                            "Amount": {
                                "format": "double",
                                "type": "number"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "Description": {
                                "type": "string"
                            }
                        }
                    },
                    "invoices": {
                        "id": "invoices",
                        "properties": {
                            "AmountDue": {
                                "format": "double",
                                "type": "number"
                            },
                            "ApprovalDate": {
                                "type": "string"
                            },
                            "CanApprove": {
                                "type": "boolean"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "Description": {
                                "type": "string"
                            },
                            "Idap": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "InvoiceDate": {
                                "type": "string"
                            },
                            "InvoiceDueDate": {
                                "type": "string"
                            },
                            "InvoiceInternalNotes": {
                                "type": "string"
                            },
                            "InvoiceNumber": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "InvoiceRefCode": {
                                "type": "string"
                            },
                            "InvoiceStatus": {
                                "type": "string"
                            },
                            "IsPaidManually": {
                                "type": "boolean"
                            },
                            "lineItems": {
                                "items": {
                                    "$ref": "lineItems"
                                },
                                "type": "array"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetPayeeInvoicesListDetailsResponse.GetPayeeInvoicesListDetailsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10338,
                    "resourceId": 88269,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash')\n\nvar id = request_path.split('invoices/')[1]\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\n\n\nvar ref =  `<string>${id}</string>`;\n\nrequest_vendor_headers['SOAPAction'] = 'http://Tipalti.org/GetPayeeInvoicesListDetails';\nrequest_vendor_headers['Content-Type'] = 'text/xml';\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{string}',ref);\n\ndone ({  \n  \"request_vendor_headers\": request_vendor_headers,\n \"request_vendor_body\": body,\n  \"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 10339,
                    "resourceId": 88269,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash'); \nvar payerEntity = configuration[\"payerEntity\"] \nvar response = response_body; \nvar expression = request_expression; \nif(response.Invoices === null ){ \n done ({ \n \"response_body\": [], \n continue: true \n }); \n} \nconsole.log(expression) \nif (response.errorMessage === \"OK\") \n{ \n \n var finalResponse = []; \n var invoices = response.Invoices.TipaltiInvoiceItemResponse; \n if (_.isArray(invoices)) \n { \n \n invoices.forEach(function(invoice) \n { \n \n var finalInvoice = invoice; \n invoiceCustomFields = {}; \n finalInvoice.lineItems = []; \n var finalInvoiceLines = []; \n \n if (_.isArray(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLines = invoice.InvoiceLines.InvoiceLine; \n \n invoiceLines.forEach(function(invoiceLine) \n { \n \n var CustomFields = {}; \n \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoice.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n finalInvoiceLines.push(invoiceLine); \n }); \n \n finalInvoice.lineItems = finalInvoiceLines; \n } \n else if (_.isObject(invoice.InvoiceLines.InvoiceLine)) \n { \n \n \n var invoiceLine = invoice.InvoiceLines.InvoiceLine; \n var CustomFields = {}; \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoiceLine.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n //finalInvoiceLines.push(invoiceLine); \n \n finalInvoice.lineItems.push(invoiceLine); \n } \n \n if (invoice.CustomFields !== null && invoice.CustomFields !== undefined) \n { \n if (_.isArray(invoice.CustomFields.KeyValuePair)) \n { \n invoice.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n invoiceCustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoice.CustomFields.KeyValuePair)) \n { \n \n invoiceCustomFields[invoice.CustomFields.KeyValuePair.Key] = invoice.CustomFields.KeyValuePair.Value; \n \n } \n } \n finalInvoice.CustomFields = invoiceCustomFields; \n delete finalInvoice.InvoiceLines; \n \n \n \n finalResponse.push(finalInvoice); \n \n }); \n \n } \n \n \n else if(_.isObject(invoices)) \n { \n \n var invoice = invoices; \n var finalInvoice = response.Invoices.TipaltiInvoiceItemResponse; \n \n var invoiceCustomFields = {}; \n finalInvoice.lineItems = []; \n var finalInvoiceLines = []; \n \n if (_.isArray(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLines = invoice.InvoiceLines.InvoiceLine; \n \n invoiceLines.forEach(function(invoiceLine) \n { \n \n var CustomFields = {}; \n \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoice.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n finalInvoiceLines.push(invoiceLine); \n }); \n \n finalInvoice.lineItems = finalInvoiceLines; \n } \n else if (_.isObject(invoice.InvoiceLines.InvoiceLine)) \n { \n \n var invoiceLine = invoice.InvoiceLines.InvoiceLine; \n var CustomFields = {}; \n if (invoiceLine.CustomFields !== null && invoiceLine.CustomFields !== undefined) \n { \n if (_.isArray(invoiceLine.CustomFields.KeyValuePair)) \n { \n invoiceLine.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n CustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoiceLine.CustomFields.KeyValuePair)) \n { \n \n CustomFields[invoiceLine.CustomFields.KeyValuePair.Key] = invoiceLine.CustomFields.KeyValuePair.Value; \n \n } \n } \n invoiceLine.CustomFields = CustomFields; \n// finalInvoiceLines.push(invoiceLine); \n \n finalInvoice.lineItems.push(invoiceLine); \n } \n \n if (invoice.CustomFields !== null && invoice.CustomFields !== undefined) \n { \n if (_.isArray(invoice.CustomFields.KeyValuePair)) \n { \n invoice.CustomFields.KeyValuePair.forEach(function(customFields) \n { \n invoiceCustomFields[customFields.Key] = customFields.Value; \n }); \n } \n \n if (_.isObject(invoice.CustomFields.KeyValuePair)) \n { \n \n invoiceCustomFields[invoice.CustomFields.KeyValuePair.Key] = invoice.CustomFields.KeyValuePair.Value; \n \n } \n } \n finalInvoice.CustomFields = invoiceCustomFields; \n delete finalInvoice.InvoiceLines; \n \n \n finalResponse = finalInvoice; \n \n \n } \n \n \nif(payerEntity){ \n finalResponse = _.filter(finalResponse, function(obj){return obj.PayerEntityName === payerEntity}); \n } \n if(expression !== null && expression.length > 1){ \n finalResponse = _.filter(finalResponse, function(obj){ \n var pass = true \n expression.forEach(function(exp){ \n if(exp.attribute !== \"lastChanged\"){ \n if(!obj[exp.attribute] || (obj[exp.attribute] !== exp.value)){ \n pass = false \n } \n } \n }) \n if(pass){ \n return obj; \n } \n }); \n } \n \n done ({ \n \"response_body\": finalResponse, \n continue: true \n }); \n \n} \nelse \n{ \n done( \n { \n \"response_body\": response_body \n }); \n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85746,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Get a list of all the field for an object",
            "path": "/hubs/finance/objects/{objectName}/metadata",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174558,
                    "resourceId": 85746,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body><GetCustomFields xmlns=\"http://Tipalti.org/\">       <payerName>{payerName}</payerName>       <timestamp>{dateTime}</timestamp><key>{authorization}</key></GetCustomFields></soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174556,
                    "resourceId": 85746,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetCustomFields",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174557,
                    "resourceId": 85746,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "objectName",
                    "vendorName": "objectName",
                    "description": " ",
                    "type": "path",
                    "vendorType": "path",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "objectsMetadata",
                "transform": false,
                "swagger": {
                    "method": {
                        "id": "method",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "request": {
                                "type": "boolean"
                            },
                            "response": {
                                "type": "boolean"
                            }
                        }
                    },
                    "fields": {
                        "id": "fields",
                        "properties": {
                            "method": {
                                "items": {
                                    "$ref": "method"
                                },
                                "type": "array"
                            },
                            "type": {
                                "type": "string"
                            },
                            "vendorPath": {
                                "type": "string"
                            }
                        }
                    },
                    "objectsMetadata": {
                        "id": "objectsMetadata",
                        "properties": {
                            "fields": {
                                "items": {
                                    "$ref": "fields"
                                },
                                "type": "array"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetCustomFieldsResponse.GetCustomFieldsResult.CustomFields.CustomFieldInfo",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9802,
                    "resourceId": 85746,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var response = response_body;\nvar _ = require('lodash');\nvar fields = '';\nvar body = \"\";\n\nif (_.isArray(response)) {\n\tfields = response;\n}\nelse{\n\tvar array = [];\n\tarray.push(response);\n\tfields = array;\n\t\n}\nvar entity = request_path.split(\"objects/\")[1].split(\"/metadata\")[0];\nvar fieldEntity = '';\nconsole.log(entity);\nconsole.log(meta_data);\n\nvar metaData = meta_data;\n\nswitch (entity) {\n  case \"invoices\":\n    fieldEntity = \"Invoice\";\n    break;\n  case \"vendors\":\n    fieldEntity = \"Payee\";\n    break;\n  case \"payments\":\n    fieldEntity = \"PaymentOrder\";\n    break;\n}\n\n\n\nfields.forEach(function(field){\n\tif(field.Entity === fieldEntity){\n\t\tvar obj = {};\n\t\tobj.type = \"string\";\n\t\tobj.vendorPath = \"CustomFields.\"+field.Title;\n\t\tmetaData.fields.push(obj);\n\t}\n});\n\ndone ({  \n\t\"response_body\":metaData,\n\t\"meta_data\":meta_data,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9803,
                    "resourceId": 85746,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\n\n\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85741,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Find vendors created or updated since last time stamp.",
            "path": "/hubs/finance/payerFees",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174542,
                    "resourceId": 85741,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetPayerFees",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174538,
                    "resourceId": 85741,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayerFees xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <beginDateTimeStamp>{since}</beginDateTimeStamp> <endDateTimeStamp>{end}</endDateTimeStamp> </GetPayerFees> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174539,
                    "resourceId": 85741,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number of resources to retrieve",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174540,
                    "resourceId": 85741,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The following where clause is required: lastChanged ='  '. Where lastChanged is a date time with the following format 2000/12/10 12:30:30.",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 174541,
                    "resourceId": 85741,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The number of resources to return in a given page",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "payerFeesList",
                "transform": false,
                "swagger": {
                    "payerFeesList": {
                        "id": "payerFeesList",
                        "items": {
                            "$ref": "payerFeesListObject"
                        },
                        "type": "array"
                    },
                    "payerFeesListObject": {
                        "id": "payerFeesListObject",
                        "properties": {
                            "FeeAmount": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "FeeCollectionDate": {
                                "type": "string"
                            },
                            "FeeCurrency": {
                                "type": "string"
                            },
                            "FeeDescription": {
                                "type": "string"
                            },
                            "PayerEntityName": {
                                "type": "string"
                            },
                            "TipaltiFeeReference": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Bodysoap:Envelope.soap:Body.GetPayerFeesResponse.GetPayerFeesResult.TipaltiFees.TipaltiFee",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9792,
                    "resourceId": 85741,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = '';\nvar expression = request_expression;\nvar end = Math.floor(Date.now()/1000).toString();\n\nexpression.forEach(function(exp){\n\tif(exp.attribute === \"lastChanged\"){\n\t\tsince = Math.floor(Date.parse(exp.value)/1000).toString();\n\t}\n\t\n});\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{end}', end);\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85742,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Find payments created or updated since last time stamp.",
            "path": "/hubs/finance/payments",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174547,
                    "resourceId": 85742,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetUpdatedPayments",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174543,
                    "resourceId": 85742,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"> <soap:Body> <GetUpdatedPayments xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <changedSince>{since}</changedSince> </GetUpdatedPayments> </soap:Body> </soap:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "body",
                    "vendorDataType": "body",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174544,
                    "resourceId": 85742,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number of resources to retrieve",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174545,
                    "resourceId": 85742,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The number of resources to return in a given page",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174546,
                    "resourceId": 85742,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The following where clause is required: lastChanged ='  '. Where lastChanged is a unix timestamp value. ",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "paymentsList",
                "transform": false,
                "swagger": {
                    "paymentsList": {
                        "id": "paymentsList",
                        "items": {
                            "$ref": "paymentsListObject"
                        },
                        "type": "array"
                    },
                    "paymentsListObject": {
                        "id": "paymentsListObject",
                        "properties": {
                            "AccountIdentifier": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "AmountSubmitted": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "AmountSubmittedCurrency": {
                                "type": "string"
                            },
                            "ErrorMessages": {
                                "type": "string"
                            },
                            "Message": {
                                "type": "string"
                            },
                            "PayeeFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerEntityName": {
                                "type": "string"
                            },
                            "PayerFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFxFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PaymentAmount": {
                                "format": "double",
                                "type": "number"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Provider": {
                                "type": "string"
                            },
                            "RefCode": {
                                "type": "string"
                            },
                            "RelatedBills": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "SubmissionDate": {
                                "type": "string"
                            },
                            "SubmittedCurrencyToPayeeCurrencyFxRate": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "WithdrawAmount": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "WithdrawCurrency": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetUpdatedPaymentsResponse.GetUpdatedPaymentsResult.ChangedPaymentOrdersRefCode.string",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9794,
                    "resourceId": 85742,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = '';\nvar expression = request_expression;\n\n\nexpression.forEach(function(exp){\n\tif(exp.attribute === \"lastChanged\"){\n\t\tsince = Math.floor(Date.parse(exp.value)/1000).toString();\n\n\t}\n\t\n});\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9795,
                    "resourceId": 85742,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body\nvar _ = require('lodash')\nif(_.isArray(response_body)){\n\nvar response = _.map(array, function(item){\n\tif(item !== null){\n\t\treturn item.toString()\n\t}\n\telse{\n\t\n\t}\n})\n\ndone ({\n\t\"response_body\": response\n})\n}\nconsole.log(_.isString(response_body))\nif(_.isString(response_body) || _.isInteger(response_body)){\n\tconsole.log(response_body)\n\tvar response = [];\n\tresponse.push(response_body.toString());\n\t\n\tdone ({\n\t\"response_body\": response\n});\n}\n\ndone ({\n\t\"response_body\": response_body\n})",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "nextResource": "GET:/payments/get_updated_since_second_call",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 88270,
            "createdDate": "2017-08-14T03:25:09Z",
            "description": "Find payments created or updated since last time stamp.",
            "path": "/hubs/finance/payments",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 179902,
                    "resourceId": 88270,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "http://Tipalti.org/GetUpdatedPayments",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179900,
                    "resourceId": 88270,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"> <soap:Body> <GetUpdatedPayments xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <changedSince>{since}</changedSince> </GetUpdatedPayments> </soap:Body> </soap:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "body",
                    "vendorDataType": "body",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179901,
                    "resourceId": 88270,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The following where clause is required: lastChanged ='  '. Where lastChanged is a unix timestamp value. ",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "payments",
                "transform": false,
                "swagger": {
                    "payments": {
                        "id": "payments",
                        "properties": {
                            "AmountSubmitted": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "AmountSubmittedCurrency": {
                                "type": "string"
                            },
                            "BankingMessage": {
                                "type": "string"
                            },
                            "EmailSubject": {
                                "type": "string"
                            },
                            "ErrorMessages": {
                                "type": "string"
                            },
                            "IncomeType": {
                                "type": "string"
                            },
                            "Message": {
                                "type": "string"
                            },
                            "PayeeFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFxFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "RefCode": {
                                "type": "string"
                            },
                            "RelatedBills": {
                                "type": "string"
                            },
                            "ScheduledDate": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "SubmissionDate": {
                                "type": "string"
                            },
                            "TxnReference": {
                                "type": "string"
                            },
                            "ValueDate": {
                                "type": "string"
                            },
                            "WithdrawAmount": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "WithdrawCurrency": {
                                "type": "string"
                            },
                            "WithholdingRate": {
                                "format": "int32",
                                "type": "integer"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "payments": {
                        "id": "payments",
                        "properties": {
                            "AmountSubmitted": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "AmountSubmittedCurrency": {
                                "type": "string"
                            },
                            "BankingMessage": {
                                "type": "string"
                            },
                            "EmailSubject": {
                                "type": "string"
                            },
                            "ErrorMessages": {
                                "type": "string"
                            },
                            "IncomeType": {
                                "type": "string"
                            },
                            "Message": {
                                "type": "string"
                            },
                            "PayeeFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFxFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "RefCode": {
                                "type": "string"
                            },
                            "RelatedBills": {
                                "type": "string"
                            },
                            "ScheduledDate": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "SubmissionDate": {
                                "type": "string"
                            },
                            "TxnReference": {
                                "type": "string"
                            },
                            "ValueDate": {
                                "type": "string"
                            },
                            "WithdrawAmount": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "WithdrawCurrency": {
                                "type": "string"
                            },
                            "WithholdingRate": {
                                "format": "int32",
                                "type": "integer"
                            }
                        }
                    }
                },
                "requestName": "payments"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetUpdatedPaymentsResponse.GetUpdatedPaymentsResult.ChangedPaymentOrdersRefCode.string",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10340,
                    "resourceId": 88270,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = '';\nvar expression = request_expression;\n\n\nexpression.forEach(function(exp){\n if(exp.attribute === \"lastChanged\"){\n    since = exp.value;\n\n  }\n \n});\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n  \"request_vendor_headers\": request_vendor_headers,\n \"request_vendor_body\": body,\n  \"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 10341,
                    "resourceId": 88270,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body\nvar _ = require('lodash')\nif(_.isArray(response_body)){\n\nvar response = _.map(array, function(item){\n  if(item !== null){\n    return item.toString()\n  }\n else{\n \n  }\n})\n\ndone ({\n  \"response_body\": response\n})\n}\nconsole.log(_.isString(response_body))\nif(_.isString(response_body) || _.isInteger(response_body)){\n  console.log(response_body)\n  var response = [];\n  response.push(response_body.toString());\n  \n  done ({\n \"response_body\": response\n});\n}\n\ndone ({\n  \"response_body\": response_body\n})",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "nextResource": "GET:/payments/get_updated_since_second_call",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85743,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/payments/get_updated_since_second_call",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174549,
                    "resourceId": 85743,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetExtendedPODetailsList",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174548,
                    "resourceId": 85743,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetExtendedPODetailsList xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <poRefCodes> {string} </poRefCodes> </GetExtendedPODetailsList> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.GetExtendedPODetailsListResponse.GetExtendedPODetailsListResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9796,
                    "resourceId": 85743,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash')\nif(request_previous_response === null || request_previous_response === null){\n\tdone ({\n    \"continue\": true \n\t});\n}\n\nvar payments = request_previous_response;\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\n\nvar strings = _.map(payments, function(payment){\n\treturn `<string>${payment}</string>`;\n});\n\nvar stringSnippits = strings.join(\"\");\n\nrequest_vendor_headers['SOAPAction'] = 'http://Tipalti.org/GetExtendedPODetailsList';\nrequest_vendor_headers['Content-Type'] = 'text/xml';\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{string}',stringSnippits);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9797,
                    "resourceId": 85743,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash');\nvar response = response_body;\nvar payerEntity = configuration['payerEntity'];\nif(response.PaymentOrders === null ){\n\tdone ({\n\t\t\"response_body\": [],\n\t\tcontinue: true\n\t});\n}\nif(response.errorMessage === \"OK\"){\n\tvar finalResponse = [];\n\tvar payments = response.PaymentOrders.TipaltiExtendedPaymentOrderResponse;\n\tconsole.log(_.isObject(payments))\n\tconsole.log(!_.isArray(payments))\n\tif(_.isArray(payments)){\n\tpayments.forEach(function(payment){\n\t\tif(payment.errorMessage === \"OK\"){\n\t\tvar finalPayment = {};\n\t\tfinalPayment.CustomFields = {};\n\t\t\n\t\tpayment.Properties.KeyValuePair.forEach(function(property){\n\t\t\tfinalPayment[property.Key] = property.Value;\n\t\t});\n\t\t\n\t\tif(payment.CustomFields !== null && payment.CustomFields !== undefined){\n\t\t\tif(_.isArray(payment.CustomFields.KeyValuePair)){\n\t\t\tpayment.CustomFields.KeyValuePair.forEach(function(customFields){\n\t\t\t\tfinalPayment.CustomFields[customFields.Key] = customFields.Value;\t\n\t\t\t});\n\t\t\t}\n\t\t\n\t\t\n\t\tif(_.isObject(payment.CustomFields.KeyValuePair)){\n\t\t\t\t\n\t\t\tfinalPayment.CustomFields[payment.CustomFields.KeyValuePair.Key] = payment.CustomFields.KeyValuePair.Value;\t\n\t\t\t\t\n\t\t}\n\t\t}\n\t\tfinalResponse.push(finalPayment);\n\t\t\n\t\t\n\t\t}\n\t});\n\t\n\t}\n\tif(_.isObject(payments) && !_.isArray(payments)){\n\t\tconsole.log('here')\n\t\tvar payment = payments;\n        var finalPayment = {};\n\t\tfinalPayment.CustomFields = {};\n\t\t\n\t\tif(payment.errorMessage === \"OK\"){\n\t\t\n\n\t\t\n\t\tpayment.Properties.KeyValuePair.forEach(function(property){\n\t\t\tfinalPayment[property.Key] = property.Value;\n\t\t});\n\t\t\n\t\tif(payment.CustomFields !== null && payment.CustomFields !== undefined){\n\t\t\tif(_.isArray(payment.CustomFields.KeyValuePair)){\n\t\t\tpayment.CustomFields.KeyValuePair.forEach(function(customFields){\n\t\t\t\tfinalPayment.CustomFields[customFields.Key] = customFields.Value;\t\n\t\t\t});\n\t\t\t}\n\t\t\n\t\t\n\t\tif(_.isObject(payment.CustomFields.KeyValuePair)){\n\t\t\t\t\n\t\t\tfinalPayment.CustomFields[payment.CustomFields.KeyValuePair.Key] = payment.CustomFields.KeyValuePair.Value;\t\n\t\t\t\t\n\t\t}\n\t\t}\n\t\tfinalResponse.push(finalPayment);\n\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tif(payerEntity){\n\t\tfinalResponse = _.filter(finalResponse, function(obj){return obj.PayerEntityName === payerEntity});\n\t}\n\tdone ({\n\t\t\"response_body\": finalResponse\n\t});\n \t\n}\nelse{\n\tdone ({\n\t\t\"response_body\": response_body\n\t});\n}\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 88271,
            "createdDate": "2017-08-14T03:25:09Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/payments/{id}",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 179905,
                    "resourceId": 88271,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "id",
                    "vendorName": "id",
                    "description": "id",
                    "type": "path",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179904,
                    "resourceId": 88271,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetExtendedPODetailsList xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <poRefCodes> {string} </poRefCodes> </GetExtendedPODetailsList> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 179903,
                    "resourceId": 88271,
                    "createdDate": "2017-08-14T03:25:09Z",
                    "name": "http://Tipalti.org/GetExtendedPODetailsList",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "payments",
                "transform": false,
                "swagger": {
                    "payments": {
                        "id": "payments",
                        "properties": {
                            "AmountSubmitted": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "AmountSubmittedCurrency": {
                                "type": "string"
                            },
                            "ErrorMessages": {
                                "type": "string"
                            },
                            "Message": {
                                "type": "string"
                            },
                            "PayeeFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerEntityName": {
                                "type": "string"
                            },
                            "PayerFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PayerFxFees": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Provider": {
                                "type": "string"
                            },
                            "RefCode": {
                                "type": "string"
                            },
                            "RelatedBills": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "SubmissionDate": {
                                "type": "string"
                            },
                            "WithdrawAmount": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "WithdrawCurrency": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetExtendedPODetailsListResponse.GetExtendedPODetailsListResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10342,
                    "resourceId": 88271,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash');\n\n\nvar id = request_path.split('payments/')[1];\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\n\nvar strings = `<string>${id}</string>`;\n\n\n\n\nrequest_vendor_headers['SOAPAction'] = 'http://Tipalti.org/GetExtendedPODetailsList';\nrequest_vendor_headers['Content-Type'] = 'text/xml';\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{string}',strings);\n\n\n\ndone ({  \n  \"request_vendor_headers\": request_vendor_headers,\n \"request_vendor_body\": body,\n  \"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 10343,
                    "resourceId": 88271,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash');\nvar response = response_body;\nvar payerEntity = configuration['payerEntity'];\nif(response.PaymentOrders === null ){\n done ({\n   \"response_body\": {},\n    continue: true\n  });\n}\nif(response.errorMessage === \"OK\"){\n var finalResponse = [];\n var payments = response.PaymentOrders.TipaltiExtendedPaymentOrderResponse;\n  console.log(_.isObject(payments))\n console.log(!_.isArray(payments))\n if(_.isArray(payments)){\n  payments.forEach(function(payment){\n   if(payment.errorMessage === \"OK\"){\n    var finalPayment = {};\n    finalPayment.CustomFields = {};\n   \n    payment.Properties.KeyValuePair.forEach(function(property){\n     finalPayment[property.Key] = property.Value;\n    });\n   \n    if(payment.CustomFields !== null && payment.CustomFields !== undefined){\n      if(_.isArray(payment.CustomFields.KeyValuePair)){\n     payment.CustomFields.KeyValuePair.forEach(function(customFields){\n       finalPayment.CustomFields[customFields.Key] = customFields.Value; \n      });\n     }\n   \n    \n    if(_.isObject(payment.CustomFields.KeyValuePair)){\n        \n      finalPayment.CustomFields[payment.CustomFields.KeyValuePair.Key] = payment.CustomFields.KeyValuePair.Value; \n        \n    }\n   }\n   finalResponse.push(finalPayment);\n   \n    \n    }\n });\n \n  }\n if(_.isObject(payments) && !_.isArray(payments)){\n   console.log('here')\n   var payment = payments;\n        var finalPayment = {};\n   finalPayment.CustomFields = {};\n   \n    if(payment.errorMessage === \"OK\"){\n    \n\n    \n    payment.Properties.KeyValuePair.forEach(function(property){\n     finalPayment[property.Key] = property.Value;\n    });\n   \n    if(payment.CustomFields !== null && payment.CustomFields !== undefined){\n      if(_.isArray(payment.CustomFields.KeyValuePair)){\n     payment.CustomFields.KeyValuePair.forEach(function(customFields){\n       finalPayment.CustomFields[customFields.Key] = customFields.Value; \n      });\n     }\n   \n    \n    if(_.isObject(payment.CustomFields.KeyValuePair)){\n        \n      finalPayment.CustomFields[payment.CustomFields.KeyValuePair.Key] = payment.CustomFields.KeyValuePair.Value; \n        \n    }\n   }\n   finalResponse = finalPayment;\n   \n    }\n   \n  }\n \n  if(payerEntity){\n    finalResponse = _.filter(finalResponse, function(obj){return obj.PayerEntityName === payerEntity});\n }\n done ({\n   \"response_body\": finalResponse\n  });\n   \n}\nelse{\n  done ({\n   \"response_body\": response_body\n  });\n}\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85747,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "List Provider Accounts",
            "path": "/hubs/finance/providerAccounts",
            "vendorPath": "/PayerFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174560,
                    "resourceId": 85747,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetProviderAccounts",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174559,
                    "resourceId": 85747,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetProviderAccounts xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> </GetProviderAccounts> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "providerAccountsList",
                "transform": false,
                "swagger": {
                    "providerAccountsListObject": {
                        "id": "providerAccountsListObject",
                        "properties": {
                            "AccountIdentifier": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "Currency": {
                                "type": "string"
                            },
                            "DisplayName": {
                                "type": "string"
                            },
                            "PayerEntityName": {
                                "type": "string"
                            },
                            "Provider": {
                                "type": "string"
                            }
                        }
                    },
                    "providerAccountsList": {
                        "id": "providerAccountsList",
                        "items": {
                            "$ref": "providerAccountsListObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetProviderAccountsResponse.GetProviderAccountsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9805,
                    "resourceId": 85747,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar expression = request_expression;\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9804,
                    "resourceId": 85747,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash'); \nvar body = response_body; \n \nif (body.errorCode === \"OK\") { \n var response = body.AccountsInfo.AccountInfo; \n if (_.isArray(response)) { \n done({ \n \"response_body\": response \n }); \n } \n else if (_.isObject(response)) { \n var array = []; \n array.push(response); \n done({ \n \"response_body\": array \n }); \n } \n} \nelse { \n done({ \n \"response_body\": response_body \n }); \n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85748,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/validateAuth",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174562,
                    "resourceId": 85748,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetPayeesChangedSinceTimestamp",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174561,
                    "resourceId": 85748,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayeesChangedSinceTimestamp xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <changedSince>{since}</changedSince> </GetPayeesChangedSinceTimestamp> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "validateAuth",
                "transform": false,
                "swagger": {
                    "b": {
                        "id": "b",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "d": {
                        "id": "d",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "soap:Envelope": {
                        "id": "soap:Envelope",
                        "properties": {
                            "@xmlns:soap": {
                                "type": "string"
                            },
                            "@xmlns:xsd": {
                                "type": "string"
                            },
                            "@xmlns:xsi": {
                                "type": "string"
                            },
                            "soap:Body": {
                                "type": "soap:Body"
                            }
                        }
                    },
                    "validateAuth": {
                        "id": "validateAuth",
                        "properties": {
                            "soap:Envelope": {
                                "type": "soap:Envelope"
                            }
                        }
                    },
                    "GetPayeesChangedSinceTimestampResponse": {
                        "id": "GetPayeesChangedSinceTimestampResponse",
                        "properties": {
                            "@xmlns": {
                                "type": "string"
                            },
                            "GetPayeesChangedSinceTimestampResult": {
                                "type": "GetPayeesChangedSinceTimestampResult"
                            }
                        }
                    },
                    "i": {
                        "id": "i",
                        "properties": {
                            "@xsi:nil": {
                                "type": "string"
                            }
                        }
                    },
                    "soap:Body": {
                        "id": "soap:Body",
                        "properties": {
                            "GetPayeesChangedSinceTimestampResponse": {
                                "type": "GetPayeesChangedSinceTimestampResponse"
                            }
                        }
                    },
                    "GetPayeesChangedSinceTimestampResult": {
                        "id": "GetPayeesChangedSinceTimestampResult",
                        "properties": {
                            "b": {
                                "type": "b"
                            },
                            "d": {
                                "type": "d"
                            },
                            "errorCode": {
                                "type": "string"
                            },
                            "errorMessage": {
                                "type": "string"
                            },
                            "i": {
                                "type": "i"
                            }
                        }
                    }
                }
            },
            "type": "provisionAuthValidation",
            "rootKey": "|soap:Envelope.soap:Body.GetPayeesChangedSinceTimestampResponse.GetPayeesChangedSinceTimestampResult.errorCode",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9807,
                    "resourceId": 85748,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var response = response_body\nvar _ = require('lodash')\n\nif (response_body == 'OK'){\n\ndone ({\n\t\"response_body\": response\n})\n}\n\ndone ({\n\t\"response_body\": response_body,\n\t\"continue\":false,\n\t\"response_status_code\":400\n})",
                    "isLegacy": false
                },
                {
                    "id": 9806,
                    "resourceId": 85748,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = dateTime.toString();\n\nconsole.log(dateTime);\nconsole.log(payerName);\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()+since));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85749,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Find vendors created or updated since last time stamp.",
            "path": "/hubs/finance/vendors",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174567,
                    "resourceId": 85749,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "pageSize",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174565,
                    "resourceId": 85749,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "page",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174564,
                    "resourceId": 85749,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetPayeesChangedSinceTimestamp xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <changedSince>{since}</changedSince> </GetPayeesChangedSinceTimestamp> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174563,
                    "resourceId": 85749,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetPayeesChangedSinceTimestamp",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174566,
                    "resourceId": 85749,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The following where clause is required: lastChanged ='  '. Where lastChanged is a unix timestamp value. ",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "vendorsList",
                "transform": false,
                "swagger": {
                    "vendorsListObject": {
                        "id": "vendorsListObject",
                        "properties": {
                            "Alias": {
                                "type": "string"
                            },
                            "City": {
                                "type": "string"
                            },
                            "CompanyName": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "CustomFields"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "Idap": {
                                "format": "int32",
                                "type": "integer"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Street2": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "TaxFormType": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    },
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {
                            "ExternalID": {
                                "type": "string"
                            }
                        }
                    },
                    "vendorsList": {
                        "id": "vendorsList",
                        "items": {
                            "$ref": "vendorsListObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetPayeesChangedSinceTimestampResponse.GetPayeesChangedSinceTimestampResult.changedIds.string",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9808,
                    "resourceId": 85749,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\nvar since = '';\nvar expression = request_expression;\n\n\nexpression.forEach(function(exp){\n\tif(exp.attribute === \"lastChanged\"){\n\t\tsince = Math.floor(Date.parse(exp.value)/1000).toString();\n\t}\n\t\n});\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()+since));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{since}', since).replace('{dateTime}', dateTime).replace('{payerName}', payerName);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9809,
                    "resourceId": 85749,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body\nvar _ = require('lodash')\nif(_.isArray(response_body)){\n\nvar response = _.map(array, function(item){\n\tif(item !== null){\n\t\treturn item.toString()\n\t}\n\telse{\n\t\n\t}\n})\n\ndone ({\n\t\"response_body\": response\n})\n}\nif(_.isString(response_body) || _.isInteger(response_body)){\n\tvar response = [];\n\tresponse.push(response_body.toString());\n\t\n\tdone ({\n\t\"response_body\": response\n});\n}\ndone ({\n\t\"response_body\": response_body\n})",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_NOT_SUPPORTED",
            "nextResource": "GET:/vendors/get_updated_since_second_call",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85751,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174571,
                    "resourceId": 85751,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "vendors",
                    "vendorDataType": "vendors",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 196203,
                    "resourceId": 85751,
                    "createdDate": "2017-09-26T17:33:54Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreatePayeeInfoAutoIdap xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <firstName>{FirstName}</firstName> <lastName>{LastName}</lastName> <street1>{Street1}</street1> <street2>{Street2}</street2> <city>{City}</city> <state>{State}</state> <zip>{Zip}</zip> <country>{Country}</country><preferredPayerEntity>{PreferredPayerEntity}</preferredPayerEntity> <email>{Email}</email> <company>{CompanyName}</company> <alias>{Alias}</alias> <skipNulls>{skipNulls}</skipNulls> </CreatePayeeInfoAutoIdap> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174572,
                    "resourceId": 85751,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/CreatePayeeInfoAutoIdap",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "vendors",
                "transform": false,
                "swagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {}
                    },
                    "vendors": {
                        "id": "vendors",
                        "properties": {
                            "Alias": {
                                "type": "string"
                            },
                            "City": {
                                "type": "string"
                            },
                            "CompanyName": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "customFields"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "Idap": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Phone": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Street2": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {}
                    },
                    "vendors": {
                        "id": "vendors",
                        "properties": {
                            "Alias": {
                                "type": "string"
                            },
                            "City": {
                                "type": "string"
                            },
                            "CompanyName": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "customFields"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "Idap": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Phone": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Street2": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "vendors"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.CreatePayeeInfoAutoIdapResponse.CreatePayeeInfoAutoIdapResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9813,
                    "resourceId": 85751,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body;\nvar _ = require('lodash');\nif(response_body.createdIdap){\n var response = response_body;\n delete response.i;\n delete response.d;\n delete response.b;\n delete response.errorMessage;\n delete response.errorCode;\n console.log(request_body)\n if(request_body.CustomFields){\n \tresponse.body.CustomFields = request_body.CustomFields;\n }\ndone ({\n\t\"response_body\": response\n});\n}\n\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 9812,
                    "resourceId": 85751,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body;\n\nif((!requestBody.FirstName && !requestBody.LastName && !requestBody.CompanyName) || (!requestBody.FirstName && requestBody.LastName && !requestBody.CompanyName) || (requestBody.FirstName && !requestBody.LastName && !requestBody.CompanyName) ){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"LastName and Firstname or CompanyName are required\"},\n\"response_status_code\": 400\n});\n}\n\nif(!requestBody.FirstName){\n\t\n\tbody = body.replace('{FirstName}', '');\n}\nif(!requestBody.LastName){\n\t\n\tbody = body.replace('{LastName}', '');\n}\nif(!requestBody.CompanyName){\n\t\n\tbody = body.replace('{CompanyName}', '');\n}\n//add street to toEncrypt string\nif(!requestBody.Street1){\n\t\n\tbody = body.replace('{Street1}', '');\n}\nelse{\n\ttoEncrypt += requestBody.Street1;\n}\nif(!requestBody.Street2){\n\tbody = body.replace(\"{Street2}\", \"\");\n}\nif(!requestBody.City){\n\tbody = body.replace(\"{City}\", \"\");\n}\nif(!requestBody.State){\n\tbody = body.replace(\"<state>{State}</state>\", \"\");\n}\nif(!requestBody.Zip){\n\tbody = body.replace(\"{Zip}\", \"\");\n}\nif(!requestBody.Country){\n\tbody = body.replace(\"<country>{Country}</country>\", \"\");\n}\nif(!requestBody.Email){\n\tbody = body.replace(\"<email>{Email}</email>\", \"\");\n}\nif(!requestBody.Company){\n\tbody = body.replace(\"{Company}\", \"\");\n}\nif(!requestBody.Alias){\n\tbody = body.replace(\"{Alias}\", \"\");\n}\nif(!requestBody.skipNulls){\n\tbody = body.replace(\"{skipNulls}\", \"true\");\n}\nif(!requestBody.PreferredPayerEntity){\n\tbody = body.replace(\"<preferredPayerEntity>{PreferredPayerEntity}</preferredPayerEntity>\", \"\");\n}\n\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\n\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "nextResource": "PUT:/vendors/post_second_request_custom_fields",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 86953,
            "createdDate": "2017-08-08T14:06:57Z",
            "description": "Create Bulk Vendors",
            "path": "/hubs/finance/vendorsBulk",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 196204,
                    "resourceId": 86953,
                    "createdDate": "2017-09-26T17:33:54Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <CreatePayeeInfoAutoIdap xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <firstName>{FirstName}</firstName> <lastName>{LastName}</lastName> <street1>{Street1}</street1> <street2>{Street2}</street2> <city>{City}</city> <state>{State}</state> <zip>{Zip}</zip> <country>{Country}</country><preferredPayerEntity>{PreferredPayerEntity}</preferredPayerEntity>  <email>{Email}</email> <company>{CompanyName}</company> <alias>{Alias}</alias> <skipNulls>{skipNulls}</skipNulls> </CreatePayeeInfoAutoIdap> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 177065,
                    "resourceId": 86953,
                    "createdDate": "2017-08-08T14:06:57Z",
                    "name": "http://Tipalti.org/CreatePayeeInfoAutoIdap",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 177064,
                    "resourceId": 86953,
                    "createdDate": "2017-08-08T14:06:57Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "vendor",
                    "vendorDataType": "vendor",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "vendorsBulk",
                "transform": false,
                "swagger": {
                    "vendorsBulk": {
                        "id": "vendorsBulk",
                        "properties": {
                            "ErrorMessage": {
                                "type": "string"
                            },
                            "Succeeded": {
                                "type": "boolean"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "vendor": {
                        "id": "vendor",
                        "properties": {
                            "City": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "Phone": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "vendor"
            },
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.CreatePayeeInfoAutoIdapResponse.CreatePayeeInfoAutoIdapResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10195,
                    "resourceId": 86953,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\nvar toEncrypt = unescape(encodeURIComponent(payerName+dateTime.toString()));\nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body;\n\nif((!requestBody.FirstName && !requestBody.LastName && !requestBody.CompanyName) || (!requestBody.FirstName && requestBody.LastName && !requestBody.CompanyName) || (requestBody.FirstName && !requestBody.LastName && !requestBody.CompanyName) ){\n\tlet item = {\"Succeeded\": false, \"ErrorMessage\": \"LastName and Firstname or CompanyName are required\"};\n\tdone ({\n\t\t\"continue\": false, \n\t\t\"response_body\": item,\n\t});\n}\n\nif(!requestBody.FirstName){\n\t\n\tbody = body.replace('{FirstName}', '');\n}\nif(!requestBody.LastName){\n\t\n\tbody = body.replace('{LastName}', '');\n}\nif(!requestBody.CompanyName){\n\t\n\tbody = body.replace('{CompanyName}', '');\n}\n//add street to toEncrypt string\nif(!requestBody.Street1){\n\t\n\tbody = body.replace('{Street1}', '');\n}\nelse{\n\ttoEncrypt += requestBody.Street1;\n}\nif(!requestBody.Street2){\n\tbody = body.replace(\"{Street2}\", \"\");\n}\nif(!requestBody.City){\n\tbody = body.replace(\"{City}\", \"\");\n}\nif(!requestBody.State){\n\tbody = body.replace(\"<state>{State}</state>\", \"\");\n}\nif(!requestBody.Zip){\n\tbody = body.replace(\"{Zip}\", \"\");\n}\nif(!requestBody.Country){\n\tbody = body.replace(\"<country>{Country}</country>\", \"\");\n}\nif(!requestBody.Email){\n\tbody = body.replace(\"<email>{Email}</email>\", \"\");\n}\nif(!requestBody.Company){\n\tbody = body.replace(\"{Company}\", \"\");\n}\nif(!requestBody.Alias){\n\tbody = body.replace(\"{Alias}\", \"\");\n}\nif(!requestBody.skipNulls){\n\tbody = body.replace(\"{skipNulls}\", \"true\");\n}\nif(!requestBody.PreferredPayerEntity){\n\tbody = body.replace(\"<preferredPayerEntity>{PreferredPayerEntity}</preferredPayerEntity>\", \"\");\n}\n\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\n\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName)\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n",
                    "isLegacy": false
                },
                {
                    "id": 10194,
                    "resourceId": 86953,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "if(response_body.createdIdap){\n\tlet response = response_body;\n\tdelete response.i;\n\tdelete response.d;\n\tdelete response.b;\n\tdelete response.errorMessage;\n\tdelete response.errorCode;\n\tif(request_body.CustomFields){\n\t\tresponse.body.CustomFields = request_body.CustomFields;\n\t}\n\tdone ({\n\t\t\"response_body\": response\n\t});\n}\n\nif(response_body.errorCode === \"OK\") {\n\tdone ({\n\t\t\"response_body\": {\"Succeeded\": true, \"ErrorMessage\": \"\"}\n\t});\n}\n\ndone ({\n\t\"response_body\": {\"Succeeded\": false, \"ErrorMessage\": response_body.errorMessage}\n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "nextResource": "PUT:/vendors/post_second_request_custom_fields_Bulk",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 86986,
            "createdDate": "2017-08-09T03:24:04Z",
            "description": "Update Vendor by ID.",
            "path": "/hubs/finance/vendorsBulk/{id}",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "PATCH",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 177139,
                    "resourceId": 86986,
                    "createdDate": "2017-08-09T03:24:04Z",
                    "name": "id",
                    "vendorName": "id",
                    "description": "id",
                    "type": "path",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 177138,
                    "resourceId": 86986,
                    "createdDate": "2017-08-09T03:24:04Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 177137,
                    "resourceId": 86986,
                    "createdDate": "2017-08-09T03:24:04Z",
                    "name": "http://Tipalti.org/UpdateOrCreatePayeeInfo",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 177136,
                    "resourceId": 86986,
                    "createdDate": "2017-08-09T03:24:04Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <UpdateOrCreatePayeeInfo xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName><idap>{id}</idap> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <firstName>{FirstName}</firstName> <lastName>{LastName}</lastName> <street1>{Street1}</street1> <street2>{Street2}</street2> <city>{City}</city> <state>{State}</state> <zip>{Zip}</zip> <country>{Country}</country> <email>{Email}</email> <company>{CompanyName}</company> <alias>{Alias}</alias> <skipNulls>true</skipNulls> <overridePayableCountry>true</overridePayableCountry></UpdateOrCreatePayeeInfo> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "vendorsBulk",
                "transform": false,
                "swagger": {
                    "vendorsBulk": {
                        "id": "vendorsBulk",
                        "properties": {
                            "ErrorMessage": {
                                "type": "string"
                            },
                            "Succeeded": {
                                "type": "boolean"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "string_": {
                        "id": "string_",
                        "properties": {
                            "Email": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "string"
            },
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.UpdateOrCreatePayeeInfoResponse.UpdateOrCreatePayeeInfoResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 10196,
                    "resourceId": 86986,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var OK = \"OK\"\nlet item = {\"Succeeded\": false, \"ErrorMessage\": \"\"};\nif(OK === response_body.errorCode){\n\titem = {\"Succeeded\": true, \"ErrorMessage\": \"\"};\n} else {\n\titem = {\"Succeeded\": false, \"ErrorMessage\": response_body.errorMessage};\n}\n\ndone ({\n\t\t\"response_body\": item\n});",
                    "isLegacy": false
                },
                {
                    "id": 10197,
                    "resourceId": 86986,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar id = request_path.split('/').pop();\nconsole.log(id)\nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body;\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\n\n\nif(!requestBody.FirstName){\n\tbody = body.replace('<firstName>{FirstName}</firstName>', '');\n}\nif(!requestBody.LastName){\n\tbody = body.replace('<lastName>{LastName}</lastName>', '');\n}\nif(!requestBody.CompanyName){\n\tbody = body.replace('<company>{CompanyName}</company>', '');\n}\n\nif(!requestBody.Street1){\n\tbody = body.replace('<street1>{Street1}</street1>', '');\n}\n//add street to toEncrypt string\nelse{\n\ttoEncrypt += requestBody.Street1;\n}\nif(!requestBody.Street2){\n\tbody = body.replace(\"<street2>{Street2}</street2>\", \"\");\n}\nif(!requestBody.City){\n\tbody = body.replace(\"<city>{City}</city>\", \"\");\n}\nif(!requestBody.State){\n\tbody = body.replace(\"<state>{State}</state>\", \"\");\n}\nif(!requestBody.Zip){\n\tbody = body.replace(\"<zip>{Zip}</zip>\", \"\");\n}\nif(!requestBody.Country){\n\tbody = body.replace(\"<country>{Country}</country>\", \"\");\n}\nif(!requestBody.Email){\n\tbody = body.replace(\"<email>{Email}</email>\", \"\");\n}\nif(!requestBody.Alias){\n\tbody = body.replace(\"<alias>{Alias}</alias>\", \"\");\n}\n\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\n\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id)\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85750,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/get_updated_since_second_call",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174569,
                    "resourceId": 85750,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetExtendedPayeeDetailsList",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174568,
                    "resourceId": 85750,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetExtendedPayeeDetailsList xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <idaps> {string} </idaps> </GetExtendedPayeeDetailsList> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.GetExtendedPayeeDetailsListResponse.GetExtendedPayeeDetailsListResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9810,
                    "resourceId": 85750,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash')\nif(request_previous_response === null || request_previous_response === null){\n\tdone ({\n    \"continue\": true,\n\t});\n}\n\nvar payees = request_previous_response;\n\nvar eKey = configuration.encryptionKey; \nvar payerName = configuration.payerName; \nvar dateTime = Math.floor(Date.now()/1000);\n\nvar strings = _.map(payees, function(payee){\n\treturn `<string>${payee}</string>`;\n});\n\nvar stringSnippits = strings.join(\"\");\n\nrequest_vendor_headers['SOAPAction'] = 'http://Tipalti.org/GetExtendedPayeeDetailsList';\nrequest_vendor_headers['Content-Type'] = 'text/xml';\n\nvar toEncrypt = unescape(encodeURIComponent(payerName +dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{string}',stringSnippits);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9811,
                    "resourceId": 85750,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var _ = require('lodash');\nvar expression = request_expression;\nvar response = response_body;\nvar payerEntity = configuration[\"payerEntity\"];\nif(response.Payees === null ){\n\tdone ({\n\t\t\"response_body\": [],\n\t\tcontinue: true\n\t});\n}\n\nif(response.errorMessage === \"OK\"){\n\tvar finalResponse = [];\n\tvar payees = response.Payees.TipaltiExtendedPayeeDetailsResponse;\n\t\n\tif(_.isArray(payees)){\n\tpayees.forEach(function(payee){\n\t\tif(payee.errorMessage === \"OK\" && payee.Properties !== undefined){\n\t\tvar finalPayee = {};\n\t\tfinalPayee.CustomFields = {};\n\t\tpayee.Properties.KeyValuePair.forEach(function(property){\n\t\t\tfinalPayee[property.Key] = property.Value;\n\t\t});\n\t\t\n\t\tif(payee.CustomFields !== null && payee.CustomFields !== undefined){\n\t\t\tif(_.isArray(payee.CustomFields.KeyValuePair)){\n\t\t\tpayee.CustomFields.KeyValuePair.forEach(function(customFields){\n\t\t\t\tfinalPayee.CustomFields[customFields.Key] = customFields.Value;\t\n\t\t\t});\n\t\t\t}\n\t\t\n\t\t\n\t\tif(_.isObject(payee.CustomFields.KeyValuePair)){\n\t\t\t\t\n\t\t\tfinalPayee.CustomFields[payee.CustomFields.KeyValuePair.Key] = payee.CustomFields.KeyValuePair.Value;\t\n\t\t\t\t\n\t\t}\n\t\t}\n\t\tfinalResponse.push(finalPayee);\n\t\t}\n\t});\n \t\n\n\n\t}\n\t\n\t\n\tif(_.isObject(payees) && !_.isArray(payees)){\n\t\tvar payee = payees;\n\t\tvar finalPayee = {};\n\t\tfinalPayee.CustomFields = {};\n\t\t\n\t\t\n\t\tpayee.Properties.KeyValuePair.forEach(function(property){\n\t\t\tfinalPayee[property.Key] = property.Value;\n\t\t});\n\t\t\n\t\tif(payee.CustomFields !== null && payee.CustomFields !== undefined){\n\t\t\tif(_.isArray(payee.CustomFields.KeyValuePair)){\n\t\t\tpayee.CustomFields.KeyValuePair.forEach(function(customFields){\n\t\t\t\tfinalPayee.CustomFields[customFields.Key] = customFields.Value;\t\n\t\t\t});\n\t\t\t}\n\t\t\n\t\t\n\t\tif(_.isObject(payee.CustomFields.KeyValuePair)){\n\t\t\t\t\n\t\t\tfinalPayee.CustomFields[payee.CustomFields.KeyValuePair.Key] = payee.CustomFields.KeyValuePair.Value;\t\n\t\t\t\t\n\t\t}\n\t\t}\n\t\tfinalResponse.push(finalPayee);\n\t\t\n\t\n\t}\n\tif(payerEntity){\n\t\tfinalResponse = _.filter(finalResponse, function(obj){return obj.PreferredPayerEntity === payerEntity});\n\t}\n\t\n\tif(expression.length > 1){\n\t\tfinalResponse = _.filter(finalResponse, function(obj){\n\t\t\tvar pass = true\n\t\t\texpression.forEach(function(exp){\n\t\t\t\tif(exp.attribute !== \"lastChanged\"){\n\t\t\t\t\tif(!obj[exp.attribute] || (obj[exp.attribute] !== exp.value)){\n\t\t\t\t\t\tpass = false\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tif(pass){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tdone ({\n\t\t\"response_body\": finalResponse,\n\t\tcontinue: true\n\t});\n}\nelse{\n\tdone ({\n\t\t\"response_body\": response_body\n\t});\n}\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85754,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/{id}",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174578,
                    "resourceId": 85754,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetExtendedPayeeDetails xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <idap>{id}</idap> </GetExtendedPayeeDetails> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174577,
                    "resourceId": 85754,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetExtendedPayeeDetails",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174579,
                    "resourceId": 85754,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "id",
                    "vendorName": "id",
                    "description": "The payee id know as idap",
                    "type": "path",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "vendorsById",
                "transform": false,
                "swagger": {
                    "vendorsById": {
                        "properties": {
                            "ActualPayerEntity": {
                                "type": "string"
                            },
                            "Alias": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CountryName": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "items": {
                                    "$ref": "CustomFieldstype"
                                },
                                "type": "array"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "Idap": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "PaymentTermId": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "WithholdingRate": {
                                "type": "string"
                            }
                        },
                        "title": "vendorsById",
                        "x-primary-key": [
                            "Idap"
                        ]
                    },
                    "CustomFieldstype": {
                        "properties": {},
                        "title": "CustomFieldstype"
                    }
                }
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.GetExtendedPayeeDetailsResponse.GetExtendedPayeeDetailsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9819,
                    "resourceId": 85754,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar expression = request_expression\nconsole.log(request_path)\nvar id = request_path.split('/hubs/finance/vendors/')[1]\n//var id = '142341258'\n\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                },
                {
                    "id": 9818,
                    "resourceId": 85754,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body; \nvar _ = require('lodash'); \nconsole.log(response_body.Properties.KeyValuePair.length) \nif (response_body.Properties.KeyValuePair.length > 1) { \n var response = response_body; \n var finalResponse = {}; \n finalResponse.CustomFields = {}; \n \n response_body.Properties.KeyValuePair.forEach(function(pair) { \n finalResponse[pair.Key] = pair.Value; \n }); \n \n if (response_body.CustomFields && response_body.CustomFields.KeyValuePair) { \n if (_.isArray(response_body.CustomFields.KeyValuePair)) { \n response_body.CustomFields.KeyValuePair.forEach(function(pair) { \n finalResponse.CustomFields[pair.Key] = pair.Value; \n }); \n } \n else { \n finalResponse.CustomFields[response_body.CustomFields.KeyValuePair.Key] = response_body.CustomFields.KeyValuePair.Value; \n } \n } \n done({ \n \"response_body\": finalResponse \n }); \n} \n \ndone({ \n \"response_body\": response_body \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85755,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/{id}",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "PUT",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174583,
                    "resourceId": 85755,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "id",
                    "vendorName": "id",
                    "description": "id",
                    "type": "path",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 174582,
                    "resourceId": 85755,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/UpdateOrCreatePayeeInfo",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174581,
                    "resourceId": 85755,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "body",
                    "vendorName": "noop",
                    "description": "noop",
                    "type": "body",
                    "vendorType": "bodyToken",
                    "dataType": "vendors",
                    "vendorDataType": "vendors",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174580,
                    "resourceId": 85755,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <UpdateOrCreatePayeeInfo xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName><idap>{id}</idap> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <firstName>{FirstName}</firstName> <lastName>{LastName}</lastName> <street1>{Street1}</street1> <street2>{Street2}</street2> <city>{City}</city> <state>{State}</state> <zip>{Zip}</zip> <country>{Country}</country> <email>{Email}</email> <company>{CompanyName}</company> <alias>{Alias}</alias> <skipNulls>{skipNulls}</skipNulls> <overridePayableCountry>true</overridePayableCountry></UpdateOrCreatePayeeInfo> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "vendors",
                "transform": false,
                "swagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {}
                    },
                    "vendors": {
                        "id": "vendors",
                        "properties": {
                            "Alias": {
                                "type": "string"
                            },
                            "City": {
                                "type": "string"
                            },
                            "CompanyName": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "CustomFields"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Phone": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Street2": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestSwagger": {
                    "CustomFields": {
                        "id": "CustomFields",
                        "properties": {}
                    },
                    "vendors": {
                        "id": "vendors",
                        "properties": {
                            "Alias": {
                                "type": "string"
                            },
                            "City": {
                                "type": "string"
                            },
                            "CompanyName": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "CustomFields": {
                                "type": "customFields"
                            },
                            "Email": {
                                "type": "string"
                            },
                            "FirstName": {
                                "type": "string"
                            },
                            "LastName": {
                                "type": "string"
                            },
                            "Payable": {
                                "type": "string"
                            },
                            "PaymentCurrency": {
                                "type": "string"
                            },
                            "PaymentMethod": {
                                "type": "string"
                            },
                            "Phone": {
                                "type": "string"
                            },
                            "PortalUser": {
                                "type": "string"
                            },
                            "PreferredPayerEntity": {
                                "type": "string"
                            },
                            "State": {
                                "type": "string"
                            },
                            "Status": {
                                "type": "string"
                            },
                            "Street1": {
                                "type": "string"
                            },
                            "Street2": {
                                "type": "string"
                            },
                            "TaxFormEntityType": {
                                "type": "string"
                            },
                            "TaxFormStatus": {
                                "type": "string"
                            },
                            "Zip": {
                                "type": "string"
                            }
                        }
                    }
                },
                "requestName": "vendors"
            },
            "type": "api",
            "rootKey": "|soap:Envelope.soap:Body.UpdateOrCreatePayeeInfoResponse.UpdateOrCreatePayeeInfoResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9820,
                    "resourceId": 85755,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "request_vendor_headers['Content-Type'] = 'text/xml';\n\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar id = request_path.split('/hubs/finance/vendors/')[1];\nconsole.log(id)\nvar requestBody = JSON.parse(request_body); \nvar body = request_vendor_body;\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\n\n\nif(!requestBody.FirstName){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'FirstName' not found\"},\n\"response_status_code\": 400\n})\n}\nif(!requestBody.LastName){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'LastName' not found\"},\n\"response_status_code\": 400\n})\n}\nif(!requestBody.CompanyName){\n\tdone ({\n\"continue\": false, \n\"response_body\": {\"message\":\"Value for required parameter 'ComapnyName' not found\"},\n\"response_status_code\": 400\n})\n}\n\n\n\nif(!requestBody.Street1){\n\t\n\tbody = body.replace('{Street1}', '');\n}\n//add street to toEncrypt string\nelse{\n\ttoEncrypt += requestBody.Street1;\n}\nif(!requestBody.Street2){\n\tbody = body.replace(\"{Street2}\", \"\");\n}\nif(!requestBody.City){\n\tbody = body.replace(\"{City}\", \"\");\n}\nif(!requestBody.State){\n\tbody = body.replace(\"<state>{State}</state>\", \"\");\n}\nif(!requestBody.Zip){\n\tbody = body.replace(\"{Zip}\", \"\");\n}\nif(!requestBody.Country){\n\tbody = body.replace(\"<country>{Country}</country>\", \"\");\n}\nif(!requestBody.Email){\n\tbody = body.replace(\"<email>{Email}</email>\", \"\");\n}\nif(!requestBody.Company){\n\tbody = body.replace(\"{Company}\", \"\");\n}\nif(!requestBody.Alias){\n\tbody = body.replace(\"{Alias}\", \"\");\n}\nif(!requestBody.skipNulls){\n\tbody = body.replace(\"{skipNulls}\", \"true\");\n}\n\n\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\n\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id)\n\n\n\ndone ({  \n\t\"request_vendor_headers\": request_vendor_headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n\n",
                    "isLegacy": false
                },
                {
                    "id": 9821,
                    "resourceId": 85755,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body;\nvar _ = require('lodash');\nconsole.log(request_path)\nvar id = request_path.split('/hubs/finance/vendors/')[1];\nif(response_body.errorMessage === \"OK\"){\n\tresponse_body.createdIdap = id;\n var response = response_body;\n delete response.i;\n delete response.d;\n delete response.b;\n delete response.errorMessage;\n delete response.errorCode;\n console.log(request_vendor_body);\n if(request_body.customFields){\n \tresponse.body.customFields = request_body.customFields;\n }\ndone ({\n\t\"response_body\": response\n});\n}\n\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "nextResource": "PUT:/vendors/custom_fields",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85753,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/post_second_request_custom_fields",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "PUT",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174576,
                    "resourceId": 85753,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/UpdatePayeeCustomFields'",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174575,
                    "resourceId": 85753,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"> <soap:Body> <UpdatePayeeCustomFields xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <idap>{id}</idap> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <customFieldsValues> {customFields} </customFieldsValues> </UpdatePayeeCustomFields> </soap:Body> </soap:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.UpdatePayeeCustomFieldsResponse.UpdatePayeeCustomFieldsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9816,
                    "resourceId": 85753,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "\nvar _ = require('lodash');\n\nif(!response_body){\ndone ({\n\t\"response_body\": request_previous_response\n});\n}\t\n\n\nif(response_body.errorMessage === \"OK\"){\ndone ({\n\t\"response_body\": request_previous_response\n});\n}\n\ndelete response_body.i;\n delete response_body.d;\n delete response_body.b;\ndone ({\n\t\"response_status_code\":400,\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 9817,
                    "resourceId": 85753,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var _ = require('lodash');\nif(request_previous_response === null || request_previous_response === null){\n\tdone ({\n    \"continue\": true \n\t});\n}\n\nvar requestBody = JSON.parse(request_body);\n\n\nif(requestBody.CustomFields && Object.keys(requestBody.CustomFields).length > 0){\n\nvar headers = request_vendor_headers;\nheaders['SOAPAction'] = 'http://Tipalti.org/UpdatePayeeCustomFields';\nheaders['Content-Type'] = 'text/xml';\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar expression = request_expression;\n\nvar id = request_previous_response.createdIdap\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id);\n\nvar bodyStart = body.split('{customFields}')[0]\nvar bodyEnd = body.split('{customFields}')[1]\n\nvar customFields=\"\";\n\n\nfor (var prop in requestBody.CustomFields) {\n\tconsole.log(requestBody.CustomFields)\n  if (requestBody.CustomFields.hasOwnProperty(prop)) {\n  \tcustomFields += `<KeyValuePair><Key>${prop}</Key><Value>${requestBody.CustomFields[prop]}</Value></KeyValuePair>`;\n  } \n}\nconsole.log(customFields)\n\n\nbody = bodyStart +customFields+bodyEnd;\ndone ({  \n\t\"request_vendor_headers\": headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});\n}\n\nelse{\n\tdone ({  \n\t\"response_body \": request_previous_response,\n\t\"continue\": false\n});\n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "nextResource": "GET:/vendors/post-third-request",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 93910,
            "createdDate": "2017-09-06T03:28:30Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/post_second_request_custom_fields_Bulk",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "PUT",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 190132,
                    "resourceId": 93910,
                    "createdDate": "2017-09-06T03:28:30Z",
                    "name": "http://Tipalti.org/UpdatePayeeCustomFields'",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 190131,
                    "resourceId": 93910,
                    "createdDate": "2017-09-06T03:28:30Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"> <soap:Body> <UpdatePayeeCustomFields xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <idap>{id}</idap> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <customFieldsValues> {customFields} </customFieldsValues> </UpdatePayeeCustomFields> </soap:Body> </soap:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.UpdatePayeeCustomFieldsResponse.UpdatePayeeCustomFieldsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 11020,
                    "resourceId": 93910,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "const _ = require('lodash');\nconst OK = \"OK\";\n\nif(!_.isNil(response_body.Succeeded) && response_body.Succeeded || (_.isNil(response_body) || _.isEqual(response_body.errorMessage, OK))){\n\tlet item = {\"Succeeded\": true, \"ErrorMessage\": \"\"};\n\tdone ({\n\t\t\"response_body\": item\n\t});\n}\t\t\n\nlet item = {\"Succeeded\": false, \"ErrorMessage\": response_body.errorMessage};\ndone ({\n\t\"response_body\": item\n});",
                    "isLegacy": false
                },
                {
                    "id": 11021,
                    "resourceId": 93910,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "const _ = require('lodash');\n\nif(_.isNil(request_previous_response)){\n\tlet item = {\"Succeeded\": false, \"ErrorMessage\": \"Previous request failed. Null response\"};\n\tdone ({ \n\t\t\"continue\": false,\n\t\t\"response_body\": item\n\t});\n} else if(!_.isNil(request_previous_response.Succeeded)) {\n\tdone ({ \n\t\t\"continue\": false,\n\t\t\"response_body\": request_previous_response\n\t});\n}\n\nlet requestBody = JSON.parse(request_body);\n\nif(requestBody.CustomFields && Object.keys(requestBody.CustomFields).length > 0){\n\tlet headers = request_vendor_headers;\n\theaders['SOAPAction'] = 'http://Tipalti.org/UpdatePayeeCustomFields';\n\theaders['Content-Type'] = 'text/xml';\n\tvar eKey = configuration['encryptionKey']; \n\tvar payerName = configuration['payerName']; \n\tvar dateTime = Math.floor(Date.now()/1000);\n\tvar expression = request_expression;\n\n\tlet id = request_previous_response.createdIdap\n\n\n\tlet toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\n\tlet auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\n\tlet body = request_vendor_body;\n\tbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id);\n\n\tlet bodyStart = body.split('{customFields}')[0]\n\tlet bodyEnd = body.split('{customFields}')[1]\n\n\tlet customFields=\"\";\n\n\tfor (var prop in requestBody.CustomFields) {\n\t  if (requestBody.CustomFields.hasOwnProperty(prop)) {\n\t  \tcustomFields += `<KeyValuePair><Key>${prop}</Key><Value>${requestBody.CustomFields[prop]}</Value></KeyValuePair>`;\n\t  } \n\t}\n\n\tbody = bodyStart +customFields+bodyEnd;\n\tdone ({  \n\t\t\"request_vendor_headers\": headers,\n\t\t\"request_vendor_body\": body,\n\t\t\"continue\": true \n\t});\n}\nelse{\n\tlet item = {\"Succeeded\": true, \"ErrorMessage\": \"\"};\n\tdone ({\n\t\t\"continue\": false, \n\t\t\"response_body\": item\n\t});\n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 85752,
            "createdDate": "2017-08-01T21:18:42Z",
            "description": "Test authorization by getting changed payees. ",
            "path": "/hubs/finance/vendors/post-third-request",
            "vendorPath": "/PayeeFunctions.asmx",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 174574,
                    "resourceId": 85752,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "http://Tipalti.org/GetExtendedPayeeDetails",
                    "vendorName": "SOAPAction",
                    "description": "SOAPAction",
                    "type": "value",
                    "vendorType": "header",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 174573,
                    "resourceId": 85752,
                    "createdDate": "2017-08-01T21:18:42Z",
                    "name": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\"> <soap12:Body> <GetExtendedPayeeDetails xmlns=\"http://Tipalti.org/\"> <payerName>{payerName}</payerName> <timestamp>{dateTime}</timestamp> <key>{authorization}</key> <idap>{id}</idap> </GetExtendedPayeeDetails> </soap12:Body> </soap12:Envelope>",
                    "vendorName": "body",
                    "description": "body",
                    "type": "value",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "apiNoDocumentation",
            "rootKey": "|soap:Envelope.soap:Body.GetExtendedPayeeDetailsResponse.GetExtendedPayeeDetailsResult",
            "nextPageKey": "",
            "hooks": [
                {
                    "id": 9814,
                    "resourceId": 85752,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "var array = response_body;\nvar _ = require('lodash');\n\nif(response_body.Properties.KeyValuePair){\n var response = response_body;\n var finalResponse = {};\n finalResponse.CustomFields = {};\n \n response_body.Properties.KeyValuePair.forEach(function(pair){\n \tfinalResponse[pair.Key] = pair.Value;\n });\n \n if(response_body.CustomFields && response_body.CustomFields.KeyValuePair){\n \tif(_.isArray(response_body.CustomFields.KeyValuePair)){\n response_body.CustomFields.KeyValuePair.forEach(function(pair){\n \tfinalResponse.CustomFields[par.Key]= pair.Value;\n });\n \t}\n \telse{\n \t\tfinalResponse.CustomFields[response_body.CustomFields.KeyValuePair.Key] = response_body.CustomFields.KeyValuePair.Value;\n \t}\n }\ndone ({\n\t\"response_body\": finalResponse\n});\n}\n\ndone ({\n\t\"response_body\": response_body\n});",
                    "isLegacy": false
                },
                {
                    "id": 9815,
                    "resourceId": 85752,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "if(request_previous_response === null || request_previous_response === null){\n\tdone ({\n    \"continue\": true \n\t});\n}\nvar headers = request_vendor_headers\nheaders['SOAPAction'] = 'http://Tipalti.org/GetExtendedPayeeDetails';\nheaders['Content-Type'] = 'text/xml';\nvar eKey = configuration['encryptionKey']; \nvar payerName = configuration['payerName']; \nvar dateTime = Math.floor(Date.now()/1000);\nvar expression = request_expression;\nconsole.log(request_path);\nconsole.log(request_previous_response)\nvar id = request_previous_response.createdIdap\n\n\n\nvar toEncrypt = unescape(encodeURIComponent(payerName+id+dateTime.toString()));\nvar auth = CE.hmacSha256Hex(eKey, toEncrypt);\n\nvar body = request_vendor_body;\nbody = body.replace('{authorization}', auth).replace('{dateTime}', dateTime).replace('{payerName}', payerName).replace('{id}', id);\n\n\n\ndone ({  \n\t\"request_vendor_headers\": headers,\n\t\"request_vendor_body\": body,\n\t\"continue\": true \n});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        }
    ],
    "objects": [],
    "models": [],
    "transformationsEnabled": true,
    "bulkDownloadEnabled": true,
    "bulkUploadEnabled": true,
    "cloneable": true,
    "extendable": false,
    "beta": false,
    "authentication": {
        "type": "custom"
    },
    "hooks": [
        {
            "id": 6227,
            "elementId": 13217,
            "mimeType": "application/javascript",
            "type": "postRequest",
            "body": "if(response_status_code >= 500)\n{\n  done({\"response_status_code\" : 400});\n}\ndone();\n",
            "isLegacy": false
        }
    ],
    "extended": false,
    "useModelsForMetadata": true,
    "hub": "finance",
    "protocolType": "http",
    "parameters": [
        {
            "id": 5750,
            "createdDate": "2017-08-01T21:18:42Z",
            "name": "application/xml",
            "vendorName": "Accept",
            "type": "value",
            "vendorType": "header",
            "source": "request",
            "elementId": 13217,
            "required": false
        },
        {
            "id": 6590,
            "createdDate": "2017-09-26T17:33:54Z",
            "name": "baseUrl",
            "vendorName": "baseUrl",
            "type": "configuration",
            "vendorType": "path",
            "source": "request",
            "elementId": 13217,
            "required": false
        },
        {
            "id": 5751,
            "createdDate": "2017-08-01T21:18:42Z",
            "name": "application/xml",
            "vendorName": "Content-Type",
            "type": "value",
            "vendorType": "header",
            "source": "request",
            "elementId": 13217,
            "required": false
        }
    ],
    "private": false
}