{
    "id": 17448,
    "name": "Plaid",
    "key": "plaid",
    "description": "Plaid enables applications to connect with users’ bank accounts",
    "image": "elements/custom-element-default-logo.png",
    "logo": "plaid",
    "active": true,
    "deleted": false,
    "typeOauth": false,
    "trialAccount": false,
    "configuration": [
        {
            "id": 132655,
            "name": "User's Bank Name",
            "key": "bank_name",
            "description": "User's Bank Name",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132652,
            "name": "Base Url",
            "key": "base.url",
            "description": "Plaid Base Url",
            "defaultValue": "https://{environment}.plaid.com",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": true,
            "required": true
        },
        {
            "id": 132651,
            "name": "Pagination Type",
            "key": "pagination.type",
            "description": "Plaid Pagination Type",
            "defaultValue": "offset",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132650,
            "name": "Bulk Add Metadata",
            "key": "bulk.add_metadata",
            "description": "Bulk Add Metadata",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132649,
            "name": "Bulk Relations",
            "key": "bulk.relations",
            "description": "Bulk Relations",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTAREA",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132648,
            "name": "Bulk query Created Field Name",
            "key": "bulk.attribute.created_time",
            "description": "Bulk Query Created Field Name",
            "defaultValue": "date",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132646,
            "name": "Plaid Secret",
            "key": "secret",
            "description": "Plaid Secret",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132644,
            "name": "subdomain",
            "key": "subdomain",
            "description": "Plaid subdomain",
            "defaultValue": "production",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132643,
            "name": "Bulk query FieldName",
            "key": "bulk.query.field_name",
            "description": "Bulk query FieldName",
            "defaultValue": "date",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132642,
            "name": "Bulk query Operator",
            "key": "bulk.query.operator",
            "description": "Bulk query Operator",
            "defaultValue": ">=",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132641,
            "name": "Bulk query Date Mask",
            "key": "bulk.query.date_mask",
            "description": "Bulk query Date Mask",
            "defaultValue": "yyyy-MM-dd",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132640,
            "name": "Bulk Download Format",
            "key": "bulk.query.download_format",
            "description": "Bulk Download Format",
            "defaultValue": "JSON",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 254114,
            "name": "Allow Select Fields parameter",
            "key": "allow.select.fields",
            "description": "Enables use of global fields query parameter to filter response to only specified fields. This will override any existing vendor functionality on the connector",
            "defaultValue": "true",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "BOOLEAN",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132645,
            "name": "User's Bank Password",
            "key": "password",
            "description": "User's Bank Password",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "groupName": "custom",
            "displayOrder": 1,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132647,
            "name": "Plaid Public Key",
            "key": "public_key",
            "description": "Plaid Public Key",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "groupName": "custom",
            "displayOrder": 1,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132657,
            "name": "User's Bank Username",
            "key": "username",
            "description": "User's Bank Username",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "groupName": "custom",
            "displayOrder": 1,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132656,
            "name": "Access Token",
            "key": "access_token",
            "description": "Access Token",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "groupName": "accessToken",
            "displayOrder": 1,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 150187,
            "name": "Authentication Type",
            "key": "authentication.type",
            "description": "For basic authentication  select 'basic' and for OAuth authentication select 'custom'",
            "defaultValue": "custom",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": true,
            "displayOrder": 1,
            "options": [
                {
                    "value": "accessToken",
                    "description": "Authentication using Access Token"
                },
                {
                    "value": "custom",
                    "description": "Authentication type custom"
                }
            ],
            "type": "COMBO",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132662,
            "name": "Institution Id",
            "key": "institution_id",
            "description": "institution_id",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132659,
            "name": "Products",
            "key": "products",
            "description": "Plaid Products - Default \"auth\" and \"transactions\"",
            "defaultValue": "auth, transactions",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 132654,
            "name": "Plaid Client Id",
            "key": "client_id",
            "description": "Plaid Client Id",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": true
        },
        {
            "id": 132653,
            "name": "Max Page Size (or limit)",
            "key": "pagination.max",
            "description": "Plaid Max Page Size (or limit)",
            "defaultValue": "100",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 1,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 159895,
            "name": "Default select fields",
            "key": "default.select.fields.map",
            "description": "Generic map used to specify default fields for bulk download and GET /all requests. Each key should be the canonical objectName and values may be specified as a comma-delimited string or a list of strings",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": true,
            "groupControl": false,
            "displayOrder": 98,
            "type": "TEXTAREA",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132660,
            "name": "Event Type",
            "key": "event.vendor.type",
            "description": "Event Type",
            "defaultValue": "polling",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": true,
            "groupControl": false,
            "displayOrder": 100,
            "type": "TEXTFIELD_128",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132658,
            "name": "Time of Getting Token or Performing Authentication",
            "key": "authentication.time",
            "description": "Plaid Time of Getting Token or Performing Authentication",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": true,
            "groupControl": false,
            "displayOrder": 100,
            "type": "TEXTFIELD_32",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132663,
            "name": "Event poller refresh interval",
            "key": "event.poller.refresh_interval",
            "description": "Set time interval for polling application (in minutes)",
            "defaultValue": "15",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 101,
            "type": "TEXTFIELD_128",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 132661,
            "name": "Event Notifications Enabled",
            "key": "event.notification.enabled",
            "description": "Enable/Disable Event Notification",
            "defaultValue": "false",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 102,
            "type": "BOOLEAN",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 132665,
            "name": "Event Notification Callback URL",
            "key": "event.notification.callback.url",
            "description": "Event Notification Callback URL",
            "defaultValue": "false",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 103,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 132664,
            "name": "Event Notification Instance Finder",
            "key": "event.notification.instance.finder",
            "description": "Event Notification Instance Finder",
            "defaultValue": "new_transactions|new_transactions",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 103,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132666,
            "name": "Event Notification Subscription ID",
            "key": "event.notification.subscription.id",
            "description": "Event Notification Subscription ID",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 104,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": true,
            "required": false
        },
        {
            "id": 132667,
            "name": "Event Poller Resources Configuration",
            "key": "event.poller.configuration",
            "description": "Event Poller Resources Configuration. The configuration is defined via JSON, an example of which is as follows - { \"contacts\": { \"url\": \"/hubs/helpdesk/contacts\", “idField”: “user.id”, “datesConfiguration”: { \"updatedDateField\": \"user.updated_at\", \"updatedDateFormat\": \"yyyy-MM-dd'T'HH:mm:ssX\", “createdDateField”: “user.created_at”, “createdDateFormat\": \"yyyy-MM-dd'T'HH:mm:ssX\" }, \"pageSize\": 10000 } }",
            "defaultValue": "{\"transactions\":{\"url\":\"/hubs/finance/transactions?where=date>'${date:yyyy-MM-dd}'\",\"idField\":\"transaction_id\",\"xPath\":\"transaction_id\",\"datesConfiguration\":{\"updatedDateField\":\"date\",\"updatedDateFormat\":\"yyyy-MM-dd\",\"createdDateField\":\"date\",\"createdDateFormat\":\"yyyy-MM-dd\"}}}",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 104,
            "type": "TEXTAREA",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 256251,
            "name": "Event Notification Basic Authentication UserName",
            "key": "event.notification.basic.username",
            "description": "Event Notification basic authentication username",
            "defaultValue": "",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 110,
            "type": "TEXTFIELD_1000",
            "hideFromConsole": false,
            "required": false
        },
        {
            "id": 256502,
            "name": "Event Notification Basic Authentication Password",
            "key": "event.notification.basic.password",
            "description": "Event Notification basic authentication password",
            "resellerConfig": false,
            "companyConfig": false,
            "active": true,
            "internal": false,
            "groupControl": false,
            "displayOrder": 112,
            "type": "PASSWORD",
            "hideFromConsole": false,
            "required": false
        }
    ],
    "resources": [
        {
            "id": 138025,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for accounts",
            "path": "/hubs/finance/accounts",
            "vendorPath": "/transactions/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314586,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The CEQL search expression or the where clause, without the WHERE keyword, in a typical SQL query. For example, to search all the transactions for a given account_id(s), the search expression will be where = account_ids = '12345'. When this parameter is omitted, all institutions are returned as defined by the paging",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314585,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314584,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314583,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "client_id",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314582,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "count",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314581,
                    "resourceId": 138025,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "offset",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "accounts",
                "transform": false,
                "swagger": {
                    "accountsObject": {
                        "properties": {
                            "account_id": {
                                "type": "string",
                                "x-samplevalue": "k5PnmV7ygktXV9gGD56mIkXwZmV6oBSWEXXRW"
                            },
                            "balances": {
                                "type": "accountsBalances"
                            },
                            "mask": {
                                "type": "string",
                                "x-samplevalue": "0000"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "Plaid Checking"
                            },
                            "official_name": {
                                "type": "string",
                                "x-samplevalue": "Plaid Gold Standard 0% Interest Checking"
                            },
                            "subtype": {
                                "type": "string",
                                "x-samplevalue": "checking"
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "depository"
                            }
                        },
                        "title": "accounts",
                        "type": "object"
                    },
                    "accountsBalances": {
                        "properties": {
                            "available": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 100
                            },
                            "current": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 110
                            },
                            "limit": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 2000
                            }
                        },
                        "title": "balances",
                        "type": "object"
                    },
                    "accounts": {
                        "items": {
                            "type": "accountsObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "api",
            "rootKey": "accounts",
            "hooks": [
                {
                    "id": 19769,
                    "resourceId": 138025,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "let rp = request_parameters;\nlet re = request_expression;\nlet body = JSON.parse(request_vendor_body) || request_vendor_body_map;\n\n\nconst convertPagination = (rp => {\n   if (rp && (rp.page && rp.pageSize)) {\n      if (body.options) {\n         body.options['offset'] = parseInt(rp.page);\n         body.options['count'] = parseInt(rp.pageSize);\n\n         return body;\n      }\n   }\n});\n\nconst addParamToTheBody = (param => {\n   var finalObj = {};\n\n   re.forEach(obj => {\n      finalObj[obj.attribute] = obj.value\n   })\n\n   if (param === 'account_ids') {\n      body['options'] = {};\n      body.options[param] = finalObj[param].split(\",\").map(account_id => account_id.trim());\n   } else {\n      body[param] = finalObj[param];\n   }\n\n   return body;\n});\n\nconst getEndDate = (date => {\n   var year = date.getFullYear();\n   var month = date.getMonth() + 1;\n   var dt = date.getDate();\n\n   if (dt < 10) {\n      dt = '0' + dt;\n   }\n   if (month < 10) {\n      month = '0' + month;\n   }\n\n   var finalDate = year + '-' + month + '-' + dt;\n   return finalDate;\n});\n\nif (re) {\n   if (re.length === 1 && re[0].attribute === 'account_ids') {\n      body['options'] = {};\n      body.options['account_ids'] = re[0].value.split(\",\").map(account_id => account_id.trim());\n\n      body['start_date'] = '1900-01-01';\n      let endDate = getEndDate(new Date());\n      body['end_date'] = endDate;\n      var finalBody = convertPagination(rp);\n\n      var finalBody = convertPagination(rp);\n\n      done({\n         \"request_vendor_body\": finalBody\n      });\n   } else if (re.length === 3) {\n      var validEntriesAtt = ['account_ids', 'start_date', 'end_date'];\n\n      for (var i = 0; i < re.length; i++) {\n         if (validEntriesAtt.includes(re[i].attribute)) {\n            addParamToTheBody(re[i].attribute);\n         }\n      }\n\n      var finalBody = convertPagination(rp);\n\n      done({\n         \"request_vendor_body\": finalBody\n      });\n   } else {\n      done({\n         \"continue\": false,\n         \"response_body\": {\n            \"error\": `Invalid parameter(s) provided. Please provide valid parameter - i.e. account_ids = '{accountId(s)}'`\n         },\n         \"response_status_code\": 400\n      });\n   }\n} else {\n   body['options'] = {};\n   body['start_date'] = '1900-01-01';\n   let endDate = getEndDate(new Date());\n   body['end_date'] = endDate;\n   var finalBody = convertPagination(rp);\n\n   done({\n      \"request_vendor_body\": finalBody\n   });\n};",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138019,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for /auth",
            "path": "/hubs/finance/auth",
            "vendorPath": "/auth/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314568,
                    "resourceId": 138019,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "Client_id",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314567,
                    "resourceId": 138019,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314566,
                    "resourceId": 138019,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314565,
                    "resourceId": 138019,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314564,
                    "resourceId": 138019,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "auth",
                "transform": false,
                "swagger": {
                    "auth": {
                        "items": {
                            "type": "authObject"
                        },
                        "type": "array"
                    },
                    "authBalances": {
                        "properties": {
                            "available": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 100
                            },
                            "current": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 110
                            },
                            "limit": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 2000
                            }
                        },
                        "title": "balances",
                        "type": "object"
                    },
                    "authObject": {
                        "properties": {
                            "account_id": {
                                "type": "string",
                                "x-samplevalue": "k5PnmV7ygktXV9gGD56mIkXwZmV6oBSWEXXRW"
                            },
                            "balances": {
                                "type": "authBalances"
                            },
                            "mask": {
                                "type": "string",
                                "x-samplevalue": "0000"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "Plaid Checking"
                            },
                            "official_name": {
                                "type": "string",
                                "x-samplevalue": "Plaid Gold Standard 0% Interest Checking"
                            },
                            "subtype": {
                                "type": "string",
                                "x-samplevalue": "checking"
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "depository"
                            }
                        },
                        "title": "auth",
                        "type": "object"
                    }
                }
            },
            "type": "api",
            "rootKey": "accounts",
            "hooks": [],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138017,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "institutions search is a validation for our OAuth flow to make sure the Bank Name provided is actually a valid option",
            "path": "/hubs/finance/auth-validation",
            "vendorPath": "/institutions/search",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314560,
                    "resourceId": 138017,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "bank_name",
                    "vendorName": "query",
                    "description": "The bank name provided by the client",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 314559,
                    "resourceId": 138017,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "public_key",
                    "vendorName": "public_key",
                    "description": "The public provided by the client",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "authValidation",
                "transform": false,
                "swagger": {
                    "authValidationObject": {
                        "properties": {
                            "credentials": {
                                "items": {
                                    "type": "authValidationCredentials"
                                },
                                "type": "array"
                            },
                            "has_mfa": {
                                "type": "boolean",
                                "x-samplevalue": false
                            },
                            "institution_id": {
                                "type": "string",
                                "x-samplevalue": "ins_4"
                            },
                            "mfa": {
                                "type": "array"
                            },
                            "mfa_code_type": {
                                "type": "string",
                                "x-samplevalue": "numeric"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "Wells Fargo"
                            },
                            "products": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "assets",
                                    "auth",
                                    "balance",
                                    "transactions",
                                    "credit_details",
                                    "income",
                                    "identity"
                                ]
                            }
                        },
                        "title": "authValidation",
                        "type": "object"
                    },
                    "authValidationCredentials": {
                        "properties": {
                            "label": {
                                "type": "string",
                                "x-samplevalue": "Username"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "username"
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "text"
                            }
                        },
                        "title": "credentials"
                    },
                    "authValidation": {
                        "items": {
                            "type": "authValidationObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "provisionAuthValidation",
            "rootKey": "institutions",
            "hooks": [
                {
                    "id": 19764,
                    "resourceId": 138017,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "if(configuration['authentication.type'] === 'accessToken') {\n done({\n    \"continue\": false\n  })\n} else { \n\tlet configProducts = configuration.products;\n  let array = configProducts.split(\",\").map(item => item.trim())\n  let obj = {'products': array}\n done({\n    \"request_vendor_body\": obj\n  });\n}",
                    "isLegacy": false
                },
                {
                    "id": 19763,
                    "resourceId": 138017,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "const _ = require('lodash');\n\nif (response_iserror || configuration['authentication.type'] === 'accessToken') {\n   done();\n}\n\nvar bankName = configuration['bank_name'].toLowerCase();\nvar institution_id = response_body.filter(obj => obj.name && obj.name.toLowerCase() === bankName).reduce((acc, bank) => {\n   acc = bank.institution_id;\n   return acc;\n}, \"\");\n\nif (_.isEmpty(institution_id)) {\n   var arrayOfBanks = response_body.map(obj => obj.name);\n   done({\n      \"continue\": false,\n      \"response_body\": {\n         \"error\": `No exact match found for the Bank Name provided ${bankName}, please select an option out of the given possibilities: ${arrayOfBanks}`\n      },\n      \"response_status_code\": 401\n   });\n}\n\ndone({\n   \"configuration\": {\n      institution_id\n   }\n})",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138024,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for categories",
            "path": "/hubs/finance/categories",
            "vendorPath": "/categories/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314580,
                    "resourceId": 138024,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314579,
                    "resourceId": 138024,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "categories",
                "transform": false,
                "swagger": {
                    "categoriesObject": {
                        "properties": {
                            "category_id": {
                                "type": "string",
                                "x-samplevalue": "10000000"
                            },
                            "group": {
                                "type": "string",
                                "x-samplevalue": "special"
                            },
                            "hierarchy": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "Bank Fees"
                                ]
                            }
                        },
                        "title": "categories",
                        "type": "object"
                    },
                    "categories": {
                        "items": {
                            "type": "categoriesObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "api",
            "rootKey": "categories",
            "hooks": [
                {
                    "id": 19768,
                    "resourceId": 138024,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "var body = {};\ndone({\"request_vendor_body\": body});",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138020,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "create-itemLink is part of the OAuth flow required in order to retrieve a public_token and exchange it for an access_token",
            "path": "/hubs/finance/create-itemLink",
            "vendorPath": "/link/item/create",
            "method": "GET",
            "vendorMethod": "POST",
            "type": "onProvision",
            "hooks": [
                {
                    "id": 19766,
                    "resourceId": 138020,
                    "mimeType": "application/javascript",
                    "type": "postRequest",
                    "body": "const https = require('https');\n\nif (response_iserror || configuration['authentication.type'] === 'accessToken') {\n  done();\n}\n\nif (response_body && response_body.public_token) {\n  let hostName = request_vendor_url.substring(request_vendor_url.indexOf('https://') + 8);\n  hostName = hostName.substring(0, hostName.indexOf('/'));\n\n  var options = {\n    \"method\": \"POST\",\n    \"hostname\": hostName,\n    \"port\": null,\n    \"path\": \"/item/public_token/exchange\",\n    \"headers\": {\n      \"content-type\": \"application/json\"\n    }\n  };\n\n  var req = https.request(options, function(res) {\n    var chunks = '';\n\n    res.on(\"data\", function(chunk) {\n      chunks += chunk;\n    });\n\n    res.on(\"end\", function() {\n      try {\n        let parsedData = JSON.parse(chunks);\n        done({\n          \"configuration\": {\n            'access_token': parsedData['access_token'],\n            'password': '',\n            'username': ''\n\n          }\n        });\n      } catch (e) {\n        console.log(e.message);\n        done({\n          \"response_error\": e.message\n        });\n      }\n    });\n  });\n\n  req.write(JSON.stringify({\n    public_token: response_body.public_token,\n    client_id: configuration.client_id,\n    secret: configuration.secret\n  }));\n  req.end();\n} else {\n  done();\n}\n",
                    "isLegacy": false
                },
                {
                    "id": 19767,
                    "resourceId": 138020,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "if(configuration['authentication.type'] === 'accessToken') {\n done({\n    \"continue\": false\n  })\n} else { \n\tlet array = configuration['products'].split(\",\").map(item => item.trim())\n var body = {\n    \"credentials\": {\n        \"username\": configuration.username,\n       \"password\": configuration.password\n    },\n    \"initial_products\": array,\n    \"institution_id\": configuration.institution_id,\n     \"public_key\": configuration.public_key\n}\n done({\"request_vendor_body\": body})\n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138023,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for identity",
            "path": "/hubs/finance/identity",
            "vendorPath": "/identity/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314578,
                    "resourceId": 138023,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "client_id",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314577,
                    "resourceId": 138023,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314576,
                    "resourceId": 138023,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314575,
                    "resourceId": 138023,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314574,
                    "resourceId": 138023,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "identity",
                "transform": false,
                "swagger": {
                    "identityAddressesData": {
                        "properties": {
                            "city": {
                                "type": "string",
                                "x-samplevalue": "Malakoff"
                            },
                            "state": {
                                "type": "string",
                                "x-samplevalue": "NY"
                            },
                            "street": {
                                "type": "string",
                                "x-samplevalue": "2992 Cameron Road"
                            },
                            "zip": {
                                "type": "string",
                                "x-samplevalue": "14236"
                            }
                        },
                        "title": "data",
                        "type": "object"
                    },
                    "identityObject": {
                        "properties": {
                            "addresses": {
                                "items": {
                                    "type": "identityAddresses"
                                },
                                "type": "array"
                            },
                            "emails": {
                                "items": {
                                    "type": "identityEmails"
                                },
                                "type": "array"
                            },
                            "names": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "Alberta Bobbeth Charleson"
                                ]
                            },
                            "phone_numbers": {
                                "items": {
                                    "type": "identityPhone_numbers"
                                },
                                "type": "array"
                            }
                        },
                        "title": "identity",
                        "type": "object"
                    },
                    "identityEmails": {
                        "properties": {
                            "data": {
                                "type": "string",
                                "x-samplevalue": "accountholder0@example.com",
                                "x-sub-format": "email"
                            },
                            "primary": {
                                "type": "boolean",
                                "x-samplevalue": true
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "primary"
                            }
                        },
                        "title": "emails"
                    },
                    "identity": {
                        "items": {
                            "type": "identityObject"
                        },
                        "type": "array"
                    },
                    "identityPhone_numbers": {
                        "properties": {
                            "data": {
                                "type": "string",
                                "x-samplevalue": "1112223333"
                            },
                            "primary": {
                                "type": "boolean",
                                "x-samplevalue": false
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "home"
                            }
                        },
                        "title": "phone_numbers"
                    },
                    "identityAddresses": {
                        "properties": {
                            "accounts": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "Plaid Checking 0000",
                                    "Plaid Saving 1111",
                                    "Plaid CD 2222"
                                ]
                            },
                            "data": {
                                "type": "identityAddressesData"
                            },
                            "primary": {
                                "type": "boolean",
                                "x-samplevalue": true
                            }
                        },
                        "title": "addresses"
                    }
                }
            },
            "type": "api",
            "rootKey": "identity",
            "hooks": [],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138026,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for income",
            "path": "/hubs/finance/income",
            "vendorPath": "/income/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314591,
                    "resourceId": 138026,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314590,
                    "resourceId": 138026,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314589,
                    "resourceId": 138026,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "client_id",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314588,
                    "resourceId": 138026,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "pageSize",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314587,
                    "resourceId": 138026,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "page",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "query",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "income",
                "transform": false,
                "swagger": {
                    "income": {
                        "items": {
                            "type": "incomeObject"
                        },
                        "type": "array"
                    },
                    "incomeIncome_streams": {
                        "properties": {
                            "confidence": {
                                "format": "double",
                                "type": "number",
                                "x-samplevalue": 0.99
                            },
                            "days": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 720
                            },
                            "monthly_income": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 500
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "UNITED AIRLINES"
                            }
                        },
                        "title": "income_streams"
                    },
                    "incomeObject": {
                        "properties": {
                            "income_streams": {
                                "items": {
                                    "type": "incomeIncome_streams"
                                },
                                "type": "array"
                            },
                            "last_year_income": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 6000
                            },
                            "last_year_income_before_tax": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 7285
                            },
                            "max_number_of_overlapping_income_streams": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 1
                            },
                            "number_of_income_streams": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 1
                            },
                            "projected_yearly_income": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 6085
                            },
                            "projected_yearly_income_before_tax": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 7389
                            }
                        },
                        "title": "income",
                        "type": "object"
                    }
                }
            },
            "type": "api",
            "rootKey": "income",
            "hooks": [],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138018,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for institution(s), it returns details for all institutions that match any of the query parameters ",
            "path": "/hubs/finance/institutions",
            "vendorPath": "/institutions",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314563,
                    "resourceId": 138018,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "offset",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314562,
                    "resourceId": 138018,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "count",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "integer",
                    "vendorDataType": "integer",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314561,
                    "resourceId": 138018,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The CEQL search expression or the where clause, without the WHERE keyword, in a typical SQL query. For example, to search all the institutions for a specific product(s), the search expression will be where = products = 'transactions'. When this parameter is omitted, all institutions are returned as defined by the paging",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "institutions",
                "transform": false,
                "swagger": {
                    "institutions": {
                        "items": {
                            "type": "institutionsObject"
                        },
                        "type": "array"
                    },
                    "institutionsCredentials": {
                        "properties": {
                            "label": {
                                "type": "string",
                                "x-samplevalue": "Login ID"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "username"
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "text"
                            }
                        },
                        "title": "credentials"
                    },
                    "institutionsObject": {
                        "properties": {
                            "credentials": {
                                "items": {
                                    "type": "institutionsCredentials"
                                },
                                "type": "array"
                            },
                            "has_mfa": {
                                "type": "boolean",
                                "x-samplevalue": true
                            },
                            "institution_id": {
                                "type": "string",
                                "x-samplevalue": "ins_113968"
                            },
                            "mfa": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "questions"
                                ]
                            },
                            "mfa_code_type": {
                                "type": "string",
                                "x-samplevalue": "numeric"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "Amegy Bank of Texas"
                            },
                            "products": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "assets",
                                    "auth",
                                    "balance",
                                    "transactions",
                                    "income"
                                ]
                            }
                        },
                        "title": "institutions",
                        "type": "object"
                    }
                }
            },
            "type": "api",
            "rootKey": "institutions",
            "hooks": [
                {
                    "id": 19765,
                    "resourceId": 138018,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "let rp = request_parameters;\nlet re = request_expression;\nlet vendorURL = request_vendor_path;\n\nlet pathObj = {\n  'name': '/search',\n  'products': '/get'\n};\n\nlet bodyObj = {\n  'name': {\n    \"public_key\": configuration.public_key,\n    \"products\": configuration.products\n  },\n  'products': {\n    \"client_id\": configuration.client_id,\n    \"count\": null,\n    \"offset\": null,\n    \"secret\": configuration.secret,\n  },\n  'noParams': {\n    \"client_id\": configuration.client_id,\n    \"count\": null,\n    \"offset\": null,\n    \"secret\": configuration.secret,\n  },\n};\n\nconst buildRequestBody = (rp, re) => {\n  if (rp && re) {\n    var pagination = buildPaginationParams(rp);\n    var att = getAttribute(re);\n    var myBody = assignPageAndPSToBody(att, pagination);\n\n    if (att === 'products') {\n      var finalBody = addProductsToBody(myBody, re);\n      return finalBody;\n\n    } else if (att = 'name') {\n      var finalBody = addQueryToBody(myBody, re);\n      return finalBody;\n\n    } else {\n      done();\n    }\n  } else if (rp) {\n    var pagination = buildPaginationParams(rp);\n    var att = 'noParams';\n    var myBody = assignPageAndPSToBody(att, pagination);\n    return myBody;\n\n  } else {\n    done();\n  }\n};\n\nconst addQueryToBody = (myBody, re) => {\n  if (myBody && re) {\n    myBody.query = re[0].value;\n    return myBody;\n\n  } else {\n    done();\n  }\n};\n\nconst assignPageAndPSToBody = (att, pagination) => {\n  if (att === 'products' || att === 'noParams') {\n    var myBody = bodyObj[att];\n    myBody.offset = pagination.page;\n    myBody.count = pagination.pageSize;\n    return myBody;\n\n  } else {\n    var myBody = bodyObj[att];\n    myBody.products = myBody.products.split(\",\").map(product => product.trim())\n    return myBody;\n\n  }\n};\n\nconst addProductsToBody = (myBody, re) => {\n  myBody.options = {};\n  myBody.options[re[0].attribute] = re[0].value.split(\",\")\n  return myBody;\n\n};\n\nconst buildPaginationParams = (rp => {\n  var paginationParams = {};\n  \n  if (rp.page && rp.pageSize) {\n    paginationParams.page = parseInt(rp.page);\n    paginationParams.pageSize = parseInt(rp.pageSize);\n    return paginationParams;\n    \n  } else {\n    done();\n  }\n});\n\n// build URL for the correct (where clause)\nconst buildURL = (re => {\n  if (re) {\n    var att = getAttribute(re)\n    var URL = vendorURL.includes(pathObj[att]) ? vendorURL : vendorURL.concat(pathObj[att]);\n    return URL;\n    \n  } else {\n    var URL = vendorURL.includes('/get') ? vendorURL : vendorURL.concat('/get');\n    return URL;\n    \n  }\n});\n\n// get attribute function\nconst getAttribute = (re => {\n  if (re) {\n    if (re.length === 1) {\n      var att = re[0].attribute;\n      \n      if (att === 'name' || att === 'products') {\n        return att;\n        \n      } else {\n        invalidAttribute(att);\n        \n      }\n    } else {\n      invalidWhereClause();\n      \n    }\n  }\n});\n\nconst invalidAttribute = (attribute => {\n  done({\n    \"continue\": false,\n    \"response_body\": {\n      \"error\": `Invalid parameter ${attribute} provided. Please provide valid parameter - i.e. 'name' OR 'products'`\n    },\n    \"response_status_code\": 400\n  });\n});\n\nconst invalidWhereClause = () => {\n  done({\n    \"continue\": false,\n    \"response_body\": {\n      \"error\": `Invalid parameter. Please provide valid parameter - i.e. 'name' OR 'products'`\n    },\n    \"response_status_code\": 400\n  });\n};\n\nlet rqst_path = buildURL(re);\nlet rqst_body = buildRequestBody(rp, re)\n\ndone({\n  \"request_vendor_path\": rqst_path,\n  \"request_vendor_body\": rqst_body\n})\n",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "paginationType": "VENDOR_SUPPORTED",
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138022,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Retrieve an institutions by ID",
            "path": "/hubs/finance/institutions/{id}",
            "vendorPath": "/institutions/get_by_id",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314573,
                    "resourceId": 138022,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "public_key",
                    "vendorName": "public_key",
                    "description": "The public_key provided by the client",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314572,
                    "resourceId": 138022,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "id",
                    "vendorName": "institution_id",
                    "description": "The Institution ID",
                    "type": "path",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                }
            ],
            "model": {
                "name": "institution",
                "transform": false,
                "swagger": {
                    "institution": {
                        "properties": {
                            "institution": {
                                "type": "institutionInstitution"
                            },
                            "request_id": {
                                "type": "string",
                                "x-samplevalue": "Nuaf9WIuLPODchY"
                            }
                        },
                        "title": "institution"
                    },
                    "institutionInstitutionCredentials": {
                        "properties": {
                            "label": {
                                "type": "string",
                                "x-samplevalue": "Login ID"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "username"
                            },
                            "type": {
                                "type": "string",
                                "x-samplevalue": "text"
                            }
                        },
                        "title": "credentials"
                    },
                    "institutionInstitution": {
                        "properties": {
                            "credentials": {
                                "items": {
                                    "type": "institutionInstitutionCredentials"
                                },
                                "type": "array"
                            },
                            "has_mfa": {
                                "type": "boolean",
                                "x-samplevalue": true
                            },
                            "institution_id": {
                                "type": "string",
                                "x-samplevalue": "ins_113968"
                            },
                            "mfa": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "questions"
                                ]
                            },
                            "mfa_code_type": {
                                "type": "string",
                                "x-samplevalue": "numeric"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "Amegy Bank of Texas"
                            },
                            "products": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "assets",
                                    "auth",
                                    "balance",
                                    "transactions",
                                    "income"
                                ]
                            }
                        },
                        "title": "institution",
                        "type": "object"
                    }
                }
            },
            "type": "api",
            "hooks": [],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138021,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Delete a item",
            "path": "/hubs/finance/item/remove",
            "vendorPath": "/item/remove",
            "method": "POST",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314571,
                    "resourceId": 138021,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "client_id",
                    "type": "configuration",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": true
                },
                {
                    "id": 314570,
                    "resourceId": 138021,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314569,
                    "resourceId": 138021,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "body",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "type": "onDelete",
            "hooks": [],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        },
        {
            "id": 138027,
            "createdDate": "2018-02-21T02:14:22Z",
            "description": "Search for transaction(s)",
            "path": "/hubs/finance/transactions",
            "vendorPath": "/transactions/get",
            "method": "GET",
            "vendorMethod": "POST",
            "parameters": [
                {
                    "id": 314597,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "access_token",
                    "vendorName": "access_token",
                    "description": "access_token",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314596,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "secret",
                    "vendorName": "secret",
                    "description": "secret",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314595,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "client_id",
                    "vendorName": "client_id",
                    "description": "client_id",
                    "type": "configuration",
                    "vendorType": "bodyField",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314594,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "pageSize",
                    "vendorName": "count",
                    "description": "The page size. Defaults to 200 if not provided. Maximum of 2000",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314593,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "page",
                    "vendorName": "offset",
                    "description": "The page number. Defaults to 1 if not provided",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                },
                {
                    "id": 314592,
                    "resourceId": 138027,
                    "createdDate": "2018-02-21T02:14:22Z",
                    "name": "where",
                    "vendorName": "where",
                    "description": "The CEQL search expression or the where clause, without the WHERE keyword, in a typical SQL query. For example, to search all the transactions, the search expression will be where = start_date = '2017-01-01' AND end_date = '2017-02-01'. When this parameter is omitted, all transactions are returned as defined by the paging",
                    "type": "query",
                    "vendorType": "no-op",
                    "dataType": "string",
                    "vendorDataType": "string",
                    "source": "request",
                    "required": false
                }
            ],
            "model": {
                "name": "transactionsList",
                "transform": false,
                "swagger": {
                    "transactionsListLocation": {
                        "properties": {
                            "store_number": {
                                "type": "string",
                                "x-samplevalue": "3322"
                            }
                        },
                        "title": "location",
                        "type": "object"
                    },
                    "transactionsListObject": {
                        "properties": {
                            "account_id": {
                                "type": "string",
                                "x-samplevalue": "lVjb1weZ8dUWM4BxwLGqTJWwoqnGKXtZWkkAp"
                            },
                            "amount": {
                                "format": "int32",
                                "type": "integer",
                                "x-samplevalue": 25
                            },
                            "category": {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array",
                                "x-samplevalue": [
                                    "Payment",
                                    "Credit Card"
                                ]
                            },
                            "category_id": {
                                "type": "string",
                                "x-samplevalue": "16001000"
                            },
                            "date": {
                                "format": "date",
                                "type": "string",
                                "x-mask": "yyyy-MM-dd",
                                "x-samplevalue": "2019-02-20"
                            },
                            "location": {
                                "type": "transactionsListLocation"
                            },
                            "name": {
                                "type": "string",
                                "x-samplevalue": "CREDIT CARD 3333 PAYMENT *//"
                            },
                            "payment_meta": {
                                "type": "transactionsListPayment_meta"
                            },
                            "pending": {
                                "type": "boolean",
                                "x-samplevalue": false
                            },
                            "transaction_id": {
                                "type": "string",
                                "x-samplevalue": "Qo6rWjEJnmCjB78gb1eQC4q4k3LdMbupmM6w7"
                            },
                            "transaction_type": {
                                "type": "string",
                                "x-samplevalue": "special"
                            }
                        },
                        "title": "transactionsList",
                        "type": "object"
                    },
                    "transactionsListPayment_meta": {
                        "properties": {
                            "payment_method": {
                                "type": "string",
                                "x-samplevalue": "ACH"
                            }
                        },
                        "title": "payment_meta",
                        "type": "object"
                    },
                    "transactionsList": {
                        "items": {
                            "type": "transactionsListObject"
                        },
                        "type": "array"
                    }
                }
            },
            "type": "api",
            "rootKey": "transactions",
            "hooks": [
                {
                    "id": 19770,
                    "resourceId": 138027,
                    "mimeType": "application/javascript",
                    "type": "preRequest",
                    "body": "let rp = request_parameters;\nlet body = JSON.parse(request_vendor_body) || request_vendor_body_map;\nlet re = request_expression;\n\nconst getEndDate = (date => {\n   var year = date.getFullYear();\n   var month = date.getMonth() + 1;\n   var dt = date.getDate();\n\n   if (dt < 10) {\n      dt = '0' + dt;\n   }\n   if (month < 10) {\n      month = '0' + month;\n   }\n\n   var finalDate = year + '-' + month + '-' + dt;\n   return finalDate;\n});\n\n// if there is. an request expression (where clause) will do this:\nif (re && re.length === 2) {\n   var attributes = re.filter(obj => obj.attribute === 'start_date' || obj.attribute === 'end_date')\n   if (attributes.empty) {\n      done({\n         \"continue\": false,\n         \"response_body\": {\n            \"error\": `Invalid parameter. Please provide valid parameter - i.e. 'start_date' AND 'end_date'`\n         },\n         \"response_status_code\": 400\n      });\n   } else {\n      if (rp && (rp.page && rp.pageSize)) {\n         body['options'] = {};\n\n         body.options['offset'] = parseInt(rp.page);\n         body.options['count'] = parseInt(rp.pageSize);\n         body[re[0].attribute] = re[0].value;\n         body[re[1].attribute] = re[1].value;\n\n         done({\n            \"request_vendor_body\": body\n         });\n      }\n   }\n} else {\n   if (rp && (rp.page && rp.pageSize)) {\n      body['options'] = {};\n\n      body.options['offset'] = parseInt(rp.page);\n      body.options['count'] = parseInt(rp.pageSize);\n      body['start_date'] = '1900-01-01';\n      let endDate = getEndDate(new Date());\n      body['end_date'] = endDate;\n\n      done({\n         \"request_vendor_body\": body\n      });\n   }\n}",
                    "isLegacy": false
                }
            ],
            "response": {
                "contentType": "application/json"
            },
            "ownerAccountId": 1,
            "kind": "eb",
            "modelMigrated": false
        }
    ],
    "objects": [],
    "models": [],
    "transformationsEnabled": true,
    "bulkDownloadEnabled": true,
    "bulkUploadEnabled": true,
    "cloneable": true,
    "extendable": true,
    "beta": false,
    "authentication": {
        "type": "custom"
    },
    "hooks": [],
    "extended": false,
    "useModelsForMetadata": true,
    "hub": "finance",
    "protocolType": "http",
    "parameters": [
        {
            "id": 7977,
            "createdDate": "2018-02-21T02:14:22Z",
            "name": "application/json",
            "vendorName": "Accept",
            "type": "value",
            "vendorType": "header",
            "source": "request",
            "elementId": 17448,
            "required": false
        },
        {
            "id": 7975,
            "createdDate": "2018-02-21T02:14:22Z",
            "name": "application/json",
            "vendorName": "Content-Type",
            "type": "value",
            "vendorType": "header",
            "source": "request",
            "elementId": 17448,
            "required": false
        },
        {
            "id": 7976,
            "createdDate": "2018-02-21T02:14:22Z",
            "name": "subdomain",
            "vendorName": "environment",
            "type": "configuration",
            "vendorType": "path",
            "source": "request",
            "elementId": 17448,
            "required": false
        }
    ],
    "private": false
}